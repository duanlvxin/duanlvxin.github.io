<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>css用户体验</title>
      <link href="/2022/05/04/css%E7%94%A8%E6%88%B7%E4%BD%93%E9%AA%8C/"/>
      <url>/2022/05/04/css%E7%94%A8%E6%88%B7%E4%BD%93%E9%AA%8C/</url>
      
        <content type="html"><![CDATA[<h2 id="选择适合的鼠标光标"><a href="#选择适合的鼠标光标" class="headerlink" title="选择适合的鼠标光标"></a>选择适合的鼠标光标</h2><h3 id="禁用光标"><a href="#禁用光标" class="headerlink" title="禁用光标"></a>禁用光标</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">cursor</span>: not-allowed;</span><br></pre></td></tr></table></figure><h3 id="隐藏光标"><a href="#隐藏光标" class="headerlink" title="隐藏光标"></a>隐藏光标</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">cursor</span>: <span class="built_in">url</span>(<span class="string">&#x27;transparent.gif&#x27;</span>);</span><br><span class="line"><span class="attribute">cursor</span>: none;</span><br></pre></td></tr></table></figure><h2 id="扩大可点击区域"><a href="#扩大可点击区域" class="headerlink" title="扩大可点击区域"></a>扩大可点击区域</h2><p>伪元素：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">button</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">button</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">top</span>: -<span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">left</span>: -<span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">right</span>: -<span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">bottom</span>: -<span class="number">10px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="自定义复选框"><a href="#自定义复选框" class="headerlink" title="自定义复选框"></a>自定义复选框</h2><style>  #awesome {    position: absolute;    clip: rect(0, 0, 0, 0);  }  #awesome + label {    cursor: pointer;  }  #awesome + label::before {    content: '\a0';    display: inline-block;    vertical-align: .2em;    width: 1em;    height: 1em;    margin-right: .2em;    border-radius: .2em;    background: silver;    text-indent: .15em;    line-height: .65;    cursor: pointer;  }  #awesome:checked + label::before {    content: '\2713';    background: yellowgreen;  }  #awesome:hover + label::before {    box-shadow: 0 0 .1em .1em #58a;  }</style><input type="checkbox" id="awesome"/><label for="awesome">awesome</label><h3 id="自定义复选框-1"><a href="#自定义复选框-1" class="headerlink" title="自定义复选框"></a>自定义复选框</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">id</span>=<span class="string">&quot;awesome&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;awesome&quot;</span>&gt;</span>awesome<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">input</span><span class="selector-attr">[type=<span class="string">&quot;checkbox&quot;</span>]</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">clip</span>: <span class="built_in">rect</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">input</span><span class="selector-attr">[type=<span class="string">&quot;checkbox&quot;</span>]</span> + <span class="selector-tag">label</span> &#123;</span><br><span class="line">  <span class="attribute">cursor</span>: pointer;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">input</span><span class="selector-attr">[type=<span class="string">&quot;checkbox&quot;</span>]</span> + <span class="selector-tag">label</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&#x27;\a0&#x27;</span>;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">vertical-align</span>: .<span class="number">2em</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">1em</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">1em</span>;</span><br><span class="line">  <span class="attribute">margin-right</span>: .<span class="number">2em</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: .<span class="number">2em</span>;</span><br><span class="line">  <span class="attribute">background</span>: silver;</span><br><span class="line">  <span class="attribute">text-indent</span>: .<span class="number">15em</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: .<span class="number">65</span>;</span><br><span class="line">  <span class="attribute">cursor</span>: pointer;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">input</span><span class="selector-attr">[type=<span class="string">&quot;checkbox&quot;</span>]</span><span class="selector-pseudo">:checked</span> + <span class="selector-tag">label</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&#x27;\2713&#x27;</span>;</span><br><span class="line">  <span class="attribute">background</span>: yellowgreen;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">input</span><span class="selector-attr">[type=<span class="string">&quot;checkbox&quot;</span>]</span><span class="selector-pseudo">:hover</span> + <span class="selector-tag">label</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> .<span class="number">1em</span> .<span class="number">1em</span> <span class="number">#58a</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="开关式按钮"><a href="#开关式按钮" class="headerlink" title="开关式按钮"></a>开关式按钮</h3><style>#awesome1 {    position: absolute;    clip: rect(0,0,0,0);}#awesome1 + label {    display: inline-block;    padding: .35em .5em .2em;    background: #ccc;    background-image: linear-gradient(#ddd, #bbb);    border: 1px solid rgba(0,0,0,.2);    border-radius: .3em;    box-shadow: 0 1px white inset;    text-align: center;    text-shadow: 0 1px 1px white;    cursor: pointer;  margin-bottom: 10px;}#awesome1:checked + label,#awesome1:active + label {    box-shadow: .04em .1em .2em rgba(0,0,0,.6) inset;    border-color: rgba(0,0,0,.3);    background: #bbb;}</style><input type="checkbox" id="awesome1"/><label for="awesome1">awesome</label><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">id</span>=<span class="string">&quot;awesome1&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;awesome1&quot;</span>&gt;</span>awesome<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#awesome1</span> &#123;</span><br><span class="line"><span class="attribute">position</span>: absolute;</span><br><span class="line"><span class="attribute">clip</span>: <span class="built_in">rect</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#awesome1</span> + <span class="selector-tag">label</span> &#123;</span><br><span class="line"><span class="attribute">display</span>: inline-block;</span><br><span class="line"><span class="attribute">padding</span>: .<span class="number">35em</span> .<span class="number">5em</span> .<span class="number">2em</span>;</span><br><span class="line"><span class="attribute">background</span>: <span class="number">#ccc</span>;</span><br><span class="line"><span class="attribute">background-image</span>: <span class="built_in">linear-gradient</span>(<span class="number">#ddd</span>, <span class="number">#bbb</span>);</span><br><span class="line"><span class="attribute">border</span>: <span class="number">1px</span> solid <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,.<span class="number">2</span>);</span><br><span class="line"><span class="attribute">border-radius</span>: .<span class="number">3em</span>;</span><br><span class="line"><span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">1px</span> white inset;</span><br><span class="line"><span class="attribute">text-align</span>: center;</span><br><span class="line"><span class="attribute">text-shadow</span>: <span class="number">0</span> <span class="number">1px</span> <span class="number">1px</span> white;</span><br><span class="line"><span class="attribute">cursor</span>: pointer;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#awesome1</span><span class="selector-pseudo">:checked</span> + <span class="selector-tag">label</span>,</span><br><span class="line"><span class="selector-id">#awesome1</span><span class="selector-pseudo">:active</span> + <span class="selector-tag">label</span> &#123;</span><br><span class="line"><span class="attribute">box-shadow</span>: .<span class="number">04em</span> .<span class="number">1em</span> .<span class="number">2em</span> <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,.<span class="number">6</span>) inset;</span><br><span class="line"><span class="attribute">border-color</span>: <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,.<span class="number">3</span>);</span><br><span class="line"><span class="attribute">background</span>: <span class="number">#bbb</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="通过阴影弱化背景"><a href="#通过阴影弱化背景" class="headerlink" title="通过阴影弱化背景"></a>通过阴影弱化背景</h2><h3 id="遮罩层"><a href="#遮罩层" class="headerlink" title="遮罩层"></a>遮罩层</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.overlay</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: fixed;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, .<span class="number">8</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.dialog</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="伪元素方案"><a href="#伪元素方案" class="headerlink" title="伪元素方案"></a>伪元素方案</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.dialog</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">  <span class="attribute">position</span>: fixed;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, .<span class="number">8</span>);</span><br><span class="line">  <span class="attribute">z-index</span>: -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>存在问题：<br>点击背景层关闭，对于这种实现起来比较麻烦</p><h3 id="box-shadow方案"><a href="#box-shadow方案" class="headerlink" title="box-shadow方案"></a>box-shadow方案</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">50vmax</span> <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,.<span class="number">8</span>);</span><br><span class="line"><span class="attribute">position</span>: fixed; // 为了防止滚动页面时遮罩层弹出</span><br></pre></td></tr></table></figure><p>存在问题：<br>box-shadow 只是能引起视觉上的效果 无法阻止鼠标交互（弹出层外背景中的元素仍能被点击）</p><h3 id="backdrop方案"><a href="#backdrop方案" class="headerlink" title="backdrop方案"></a>backdrop方案</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">dialog<span class="selector-pseudo">::backdrop</span> &#123;</span><br><span class="line">  backgroud: <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,.<span class="number">8</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>存在问题：<br>浏览器不完全支持</p><h2 id="通过模糊来弱化背景"><a href="#通过模糊来弱化背景" class="headerlink" title="通过模糊来弱化背景"></a>通过模糊来弱化背景</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">main</span><span class="selector-class">.de-emphasized</span> &#123;</span><br><span class="line">  <span class="attribute">filter</span>: <span class="built_in">blur</span>(<span class="number">5px</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>模糊和阴影结合</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">main</span><span class="selector-class">.de-emphasized</span> &#123;</span><br><span class="line">  <span class="attribute">filter</span>: <span class="built_in">blur</span>(<span class="number">5px</span>) <span class="built_in">contrast</span>(.<span class="number">8px</span>) <span class="built_in">brightness</span>(.<span class="number">8</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>如果浏览器不支持，看不到任何效果，最好加上box-shadow作为浏览器回退方案。</p><p>如果还需支持鼠标在该背景区域上无法交互，使用遮罩层+filter的方式。</p><h2 id="滚动提示"><a href="#滚动提示" class="headerlink" title="滚动提示"></a>滚动提示</h2><style>  .example ul {    border: 1px solid black;    width: 200px;    height: 150px;    overflow: auto;    background: linear-gradient(white 15px, transparent) 0 0 / 100% 50px,                radial-gradient(at top, rgba(0,0,0,.2), transparent 70%) 0 0 / 100% 30px,                linear-gradient(to top, white 15px, transparent) bottom / 100% 50px,                radial-gradient(at bottom, rgba(0,0,0,.2), transparent 70%) bottom / 100% 30px;    background-repeat: no-repeat;    background-attachment: local, scroll, local, scroll;  }  .example ul li {    display: inline-block;    height: 50px;  }</style><p>在移动端用的比较多，支持向上滚动头部显示“提示”，支持向下滚动底部显示“提示”</p><div class="example">  <ul>    <li>Ada Catlace</li>    <li>Alan Purring</li>    <li>Schrödingcat</li>    <li>Tim Purrners-</li>    <li>Lee</li>    <li>Webkitty</li>    <li>json</li>    <li>void</li>    <li>Tim Purrners-</li>    <li>Lee</li>    <li>Webkitty</li>    <li>json</li>    <li>void</li>  </ul></div><p>代码可参考：<a href="https://dabblet.com/gist/20205b5fcdd834461e80">https://dabblet.com/gist/20205b5fcdd834461e80</a></p><h2 id="交互式的图片对比控件"><a href="#交互式的图片对比控件" class="headerlink" title="交互式的图片对比控件"></a>交互式的图片对比控件</h2><h3 id="css-Resize-方案"><a href="#css-Resize-方案" class="headerlink" title="css Resize 方案"></a>css Resize 方案</h3><div class="image-slider">  <div>    <img src="/img/cat.jpg" alter="before"/>  </div>  <img src="/img/cat.jpg" alter="after"/></div><style>.image-slider {  position: relative;  display: inline-block;}.image-slider > div {  position: absolute;  left: 0;  top: 0;  bottom: 0;  width: 50%;  height: 100%;  overflow: hidden;  resize: horizontal;  max-width: 100%;}.image-slider > div img {  display: block;  filter: blur(10px);}img {  width: 769.2px;  height: 513.05px;  margin: 0 !important;  max-width: none !important;}</style><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;image-slider&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;picture1.jpg&quot;</span> <span class="attr">alter</span>=<span class="string">&quot;before&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;picture2.jpg&quot;</span> <span class="attr">alter</span>=<span class="string">&quot;after&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.image-slider</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.image-slider</span> &gt; <span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">  <span class="attribute">resize</span>: horizontal;</span><br><span class="line">  <span class="attribute">max-width</span>: <span class="number">100%</span>; // 防止拉动调节手柄后超出图片大小</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>除此之外，还能通过伪元素改变调节手柄的大小</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.image-slider</span> &gt; <span class="selector-tag">div</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">12px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">12px</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">5px</span>;</span><br><span class="line">  <span class="attribute">background</span>:</span><br><span class="line">    <span class="built_in">linear-gradient</span>(-<span class="number">45deg</span>, white <span class="number">50%</span>, transparent);</span><br><span class="line">  <span class="attribute">background-clip</span>: content-box;</span><br><span class="line">  <span class="attribute">cursor</span>: ew-resize;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.image-slider</span> <span class="selector-tag">img</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  user-select: none; // 防止没有点击调节手柄 拖动鼠标 误选图片的情况</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="范围输入控件方案"><a href="#范围输入控件方案" class="headerlink" title="范围输入控件方案"></a>范围输入控件方案</h3><input type="range"/><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;range&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure><p>然后监听Input的值，动态改变第一张图片的宽度。略。<br>比较推荐这种方案，浏览器支持度更高，不过需要编写额外的js代码。</p>]]></content>
      
      
      <categories>
          
          <category> css </category>
          
      </categories>
      
      
        <tags>
            
            <tag> css </tag>
            
            <tag> css揭秘 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>typescript概述</title>
      <link href="/2022/04/10/typescript%E6%A6%82%E8%BF%B0/"/>
      <url>/2022/04/10/typescript%E6%A6%82%E8%BF%B0/</url>
      
        <content type="html"><![CDATA[<h2 id="编译器"><a href="#编译器" class="headerlink" title="编译器"></a>编译器</h2><p>编译器做的三件事：</p><pre>1. 将代码转换为AST(抽象语法树)2. 将AST编译成字节码3. 运行时计算字节码</pre><p>TSC编译的过程：</p><pre>1. Typescript源码 -> Typescript AST2. 类型检查器检查AST3. Typescript AST -> javascript源码</pre><pre>4. javascript源码 -> javascript AST5. javascript AST -> 字节码6. 运行时计算字节码</pre><p>第1~3步由TSC操作，第4~6步由浏览器、NodeJs或其他Javascript引擎中的Javascript运行时操作。</p><p>编译型语言：<strong>运行前</strong>转换源码到字节码；解释型语言：<strong>运行时</strong>转换源码到字节码<br>Javascript编译器和运行时通常聚在一个称为引擎的程序中。程序员一般就是与引擎交互的。常见的引擎：V8、JSCore、Chakra。</p><h2 id="类型系统"><a href="#类型系统" class="headerlink" title="类型系统"></a>类型系统</h2><blockquote><p>类型系统：类型检查器为程序分配类型时使用的一系列规则</p></blockquote><blockquote><p>类型系统有两种：一种是显式的(java、c、c++等)，一种是自动推导的(javascript、python等)</p></blockquote><p>Typescript是两者的结合，既可以显示注解类型，也可以自动推导。</p><h2 id="Typescript和Javascript类型比较"><a href="#Typescript和Javascript类型比较" class="headerlink" title="Typescript和Javascript类型比较"></a>Typescript和Javascript类型比较</h2><table><thead><tr><th align="left">类型系统特性</th><th align="left">Typescript</th><th align="left">Javascript</th></tr></thead><tbody><tr><td align="left">类型是如何绑定的？</td><td align="left">静态</td><td align="left">动态</td></tr><tr><td align="left">是否自动转换类型？</td><td align="left">否（多数时候）</td><td align="left">是</td></tr><tr><td align="left">何时检查类型？</td><td align="left">编译时</td><td align="left">运行时</td></tr><tr><td align="left">何时报告错误？</td><td align="left">编译时（多数时候）</td><td align="left">运行时（多数时候）</td></tr></tbody></table><h2 id="代码编辑器设置"><a href="#代码编辑器设置" class="headerlink" title="代码编辑器设置"></a>代码编辑器设置</h2><p>如何从零创建一个typescript简单项目：</p><ol><li><p>下载依赖</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install typescript tslint @types/node</span><br></pre></td></tr></table></figure></li><li><p>配置ts: tsconfig.js</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx typescript --init</span><br></pre></td></tr></table></figure><p>详细的配置略，配置入口和出口：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;compilerOptions&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span></span><br><span class="line">    ...<span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;outDir&quot;</span><span class="punctuation">:</span> <span class="string">&quot;dist&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;include&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="string">&quot;src&quot;</span></span><br><span class="line">  <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></li><li><p>配置tslint: tslint.js</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx tslint --init</span><br></pre></td></tr></table></figure></li><li><p>新建src&#x2F;index.ts写入一些内容并编译执行</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">touch</span> src/index.ts</span><br><span class="line">npx tsc</span><br></pre></td></tr></table></figure><p>执行完成后可以看到生成了dist&#x2F;index.js文件，运行该文件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node dist/index.js</span><br></pre></td></tr></table></figure></li></ol><p>利用工具创建typescript项目：</p><ol><li>ts-node: 只需一个命令便能编译和运行typescript代码</li><li>typescript-node-starter(<a href="https://github.com/Microsoft/TypeScript-Node-Starter">https://github.com/Microsoft/TypeScript-Node-Starter</a>): typescript-node脚手架</li></ol>]]></content>
      
      
      <categories>
          
          <category> typescript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> typescript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>css字体排印</title>
      <link href="/2022/04/10/css%E5%AD%97%E4%BD%93%E6%8E%92%E5%8D%B0/"/>
      <url>/2022/04/10/css%E5%AD%97%E4%BD%93%E6%8E%92%E5%8D%B0/</url>
      
        <content type="html"><![CDATA[<style>  .example {    margin: 20px;  }  .box-inline {    display: inline-block;    border: 2px solid pink;    padding: 10px;  }</style><h2 id="连字符断行"><a href="#连字符断行" class="headerlink" title="连字符断行"></a>连字符断行</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">hyphens</span>: auto;</span><br></pre></td></tr></table></figure><p>未进行处理 vs 手动使用软连接&amp;shy; vs hyphens:auto的效果比较：</p><div class="example box-inline" style="width: 140px;">  "The only way to get rid of a temptation is to yield to it."</div><div class="example box-inline" style="width: 140px;">  "The only way to get rid of a temp&shy;tation is to yield to it."</div><div lang="en" class="example box-inline" style="width: 140px; hyphens: auto;">  "The only way to get rid of a temptation is to yield to it."</div><p><em>注意</em>: 使用hyphens时需要指定lang, 如lang&#x3D;”en”</p><h2 id="插入换行"><a href="#插入换行" class="headerlink" title="插入换行"></a>插入换行</h2><style>  dl {    border: 1px solid black;    padding: 10px;  }  dd {    margin-inline-start: 0 !important;    font-weight: bold;  }  dd, dt {    display: inline;  }  dd + dt::before {    content: "\A";    white-space: pre;  }  dd + dd::before {    content: ', ';    font-weight: normal;  }</style><dl>  <dt>name:</dt>  <dd>duan</dd>  <dt>email:</dt>  <dd>2316636696@qq.com</dd>  <dd>dlx12345678@163.com</dd>  <dt>address:</dt>  <dd>someaddress</dd></dl><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dl</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dt</span>&gt;</span>name:<span class="tag">&lt;/<span class="name">dt</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dd</span>&gt;</span>duan<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">dt</span>&gt;</span>email:<span class="tag">&lt;/<span class="name">dt</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dd</span>&gt;</span>2316636696@qq.com<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">dd</span>&gt;</span>dlx12345678@163.com<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">dt</span>&gt;</span>address:<span class="tag">&lt;/<span class="name">dt</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dd</span>&gt;</span>someaddress<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dl</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">dl</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid black;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">dd</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>-inline-start: <span class="number">0</span> <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">font-weight</span>: bold;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">dd</span>, <span class="selector-tag">dt</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: inline;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">dd</span> + <span class="selector-tag">dt</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&quot;\A&quot;</span>;</span><br><span class="line">  <span class="attribute">white-space</span>: pre;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">dd</span> + <span class="selector-tag">dd</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&#x27;, &#x27;</span>;</span><br><span class="line">  <span class="attribute">font-weight</span>: normal;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="文本行的斑马效果"><a href="#文本行的斑马效果" class="headerlink" title="文本行的斑马效果"></a>文本行的斑马效果</h2><style>  pre.banma {    background: beige !important;    background-image: repeating-linear-gradient(rgba(0,0,0,.2), rgba(0,0,0,.2) 1.6em, transparent 0, transparent 3.2em) !important;    background-clip: content-box !important;    background-origin: content-box !important;    color: #58a !important;  }</style><pre style="tab-size: 2;" class="banma">while(true) {&#0009;var d = new Date();&#0009;&#0009;if(d.getDate()===1&&d.getMonth()===3){&#0009;&#0009;alert("april fool's day");&#0009;}}</pre><p>原理：利用css渐变生成背景图片:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">background</span>: beige;</span><br><span class="line"><span class="attribute">color</span>: <span class="number">#58a</span>;</span><br><span class="line"><span class="attribute">background-image</span>: <span class="built_in">repeating-linear-gradient</span>(<span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,.<span class="number">2</span>), <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,.<span class="number">2</span>) <span class="number">1.6em</span>, transparent <span class="number">0</span>, transparent <span class="number">3.2em</span>);</span><br><span class="line"><span class="attribute">background-clip</span>: content-box;</span><br><span class="line"><span class="attribute">background-origin</span>: content-box;</span><br></pre></td></tr></table></figure><h2 id="调整tab的宽度"><a href="#调整tab的宽度" class="headerlink" title="调整tab的宽度"></a>调整tab的宽度</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">tab-size</span>: <span class="number">3</span>;</span><br></pre></td></tr></table></figure><pre style="-moz-tab-size: 3; -webkit-tab-size: 3; tab-size:3;">while(true) {&#0009;var d = new Date();&#0009;&#0009;if(d.getDate()===1&&d.getMonth()===3){&#0009;&#0009;alert("april fool's day");&#0009;}}</pre><p><em>注意</em>: tab制表符为<code>&amp;#0009</code>;</p><h2 id="连字"><a href="#连字" class="headerlink" title="连字"></a>连字</h2><blockquote><p>在css字体（第三版）[<a href="https://w3.org/TR/css3-fonts]">https://w3.org/TR/css3-fonts]</a> 中，原有的font-variant被升级成了一个简写属性，由很多新的展开式属性组合而成。其中之一叫做font-variant-ligatures,专门用来控制连字效果的开启和关闭。</p></blockquote><p>启用所有可能的连字，需要同时指定这三个标识符：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">font-variant</span>-ligarures: common-ligatures // 通用连字</span><br><span class="line">                        discretionary-ligatures // 酌情连字</span><br><span class="line">                        historical-ligatures //历史连字，老书中的连字</span><br></pre></td></tr></table></figure><p>需要关闭某些连字时：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">font-variant</span>-ligarures: common-ligatures</span><br><span class="line">                        no-discretionary-ligatures</span><br><span class="line">                        no-historical-ligatures</span><br></pre></td></tr></table></figure><p>font-variant-ligatures还可以为none, 他会把所有的连字效果关掉，最好不要用；如果要把font-variant-ligatures属性复位为初始值，使用normal而不是none。</p><h2 id="华丽的-amp-符号"><a href="#华丽的-amp-符号" class="headerlink" title="华丽的&amp;符号"></a>华丽的&amp;符号</h2><style>  @font-face {    font-family: Ampersand;    src: local('Baskerville-Italic'),         local('Goudy Old Style-Italic'),         local('Garamond-Italic'),         local('Palatino-Italic');    unicode-range: U+26;  }  .petty-font {    font-family: Ampersand;  }</style><p><span class="petty-font">HTML &amp; CSS</span></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@font-face</span> &#123;</span><br><span class="line">  <span class="attribute">font-family</span>: Ampersand;</span><br><span class="line">  <span class="attribute">src</span>: <span class="built_in">local</span>(<span class="string">&#x27;Baskerville-Italic&#x27;</span>),</span><br><span class="line">        <span class="built_in">local</span>(<span class="string">&#x27;Goudy Old Style-Italic&#x27;</span>),</span><br><span class="line">        <span class="built_in">local</span>(<span class="string">&#x27;Garamond-Italic&#x27;</span>),</span><br><span class="line">        <span class="built_in">local</span>(<span class="string">&#x27;Palatino-Italic&#x27;</span>);</span><br><span class="line">  unicode-range: U+<span class="number">26</span>; // &amp;符号的unicode编号为<span class="number">26</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.petty-font</span> &#123;</span><br><span class="line">  <span class="attribute">font-family</span>: Ampersand;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="自定义下划线"><a href="#自定义下划线" class="headerlink" title="自定义下划线"></a>自定义下划线</h2><style>  .text-underline span{    box-shadow: 0 1px gray;  }  .text-underline2 span {    background: linear-gradient(gray,gray) no-repeat;    background-size: 100% 1px;    background-position: 0 1.15em;    text-shadow: .05em 0 white, -.05em 0 white;  }  .text-underline3 span {    background: linear-gradient(90deg, gray 66%, white 0) repeat-x;    background-size: .8em 2px;    background-position: 0 1.15em;  }  .text-underline4 span {    background:     radial-gradient(white 40%, transparent 0), radial-gradient(white 40%, transparent 0), radial-gradient(#58a 40%, transparent 0), radial-gradient(#58a 40%, transparent 0);    background-size: .5em 1em;    background-repeat: repeat-x;    background-position: 0 1em, .25em 1em, 0 .9em, .25em .9em;    text-shadow: .05em 0 white, -.05em 0 white;  }  .text-underline5 span {    background:     linear-gradient(-45deg, transparent 40%, red 0, red 60%, transparent 0) 0 1.2em,      linear-gradient(45deg, transparent 40%, red 0, red 60%, transparent 0) .1em 1.2em;    background-repeat: repeat-x;    background-size: .2em .1em;    text-shadow: .05em 0 white, -.05em 0 white;  }</style><h3 id="实线"><a href="#实线" class="headerlink" title="实线"></a>实线</h3><div class="example box-inline text-underline" style="width: 140px; hyphens: auto;">  "The only way to <span>get rid of a temp&shy;tation is</span> to <span>yield to it."</span></div><div class="example box-inline text-underline2" style="width: 140px; hyphens: auto;">  "The only way to <span>get rid of a temp&shy;tation is</span> to <span>yield to it."</span></div><p>左图使用的是box-shadow:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">1px</span> gray;</span><br></pre></td></tr></table></figure><p>右图使用的是background，利用渐变:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(gray,gray) no-repeat;</span><br><span class="line"><span class="attribute">background-size</span>: <span class="number">100%</span> <span class="number">1px</span>;</span><br><span class="line"><span class="attribute">background-position</span>: <span class="number">0</span> <span class="number">1.15em</span>;</span><br><span class="line"><span class="attribute">text-shadow</span>: .<span class="number">05em</span> <span class="number">0</span> white, -.<span class="number">05em</span> <span class="number">0</span> white; //使得下划线在文字部分断开</span><br></pre></td></tr></table></figure><h3 id="虚线"><a href="#虚线" class="headerlink" title="虚线"></a>虚线</h3><div class="example box-inline text-underline3" style="width: 140px; hyphens: auto;">  "The only way to <span>get rid of a temp&shy;tation is</span> to <span>yield to it."</span></div><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(<span class="number">90deg</span>, gray <span class="number">66%</span>, white <span class="number">0</span>) repeat-x;</span><br><span class="line"><span class="attribute">background-size</span>: .<span class="number">8em</span> <span class="number">2px</span>;</span><br><span class="line"><span class="attribute">background-position</span>: <span class="number">0</span> <span class="number">1.15em</span>;</span><br></pre></td></tr></table></figure><h3 id="波浪线"><a href="#波浪线" class="headerlink" title="波浪线"></a>波浪线</h3><div class="example box-inline text-underline4" style="width: 140px; hyphens: auto;">  "<span>The only way to </span>get rid of a temp&shy;tation is to yield to it."</div><div class="example box-inline text-underline5" style="width: 140px; hyphens: auto;">  "<span>The only way to </span>get rid of a temp&shy;tation is to yield to it."</div><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">background</span>: </span><br><span class="line"><span class="built_in">radial-gradient</span>(white <span class="number">40%</span>, transparent <span class="number">0</span>), <span class="built_in">radial-gradient</span>(white <span class="number">40%</span>, transparent <span class="number">0</span>), <span class="built_in">radial-gradient</span>(<span class="number">#58a</span> <span class="number">40%</span>, transparent <span class="number">0</span>), <span class="built_in">radial-gradient</span>(<span class="number">#58a</span> <span class="number">40%</span>, transparent <span class="number">0</span>);</span><br><span class="line"><span class="attribute">background-size</span>: .<span class="number">5em</span> <span class="number">1em</span>;</span><br><span class="line"><span class="attribute">background-repeat</span>: repeat-x;</span><br><span class="line"><span class="attribute">background-position</span>: <span class="number">0</span> .<span class="number">95em</span>, .<span class="number">25em</span> .<span class="number">95em</span>, <span class="number">0</span> .<span class="number">9em</span>, .<span class="number">25em</span> .<span class="number">9em</span>;</span><br><span class="line"><span class="attribute">text-shadow</span>: .<span class="number">05em</span> <span class="number">0</span> white, -.<span class="number">05em</span> <span class="number">0</span> white;</span><br></pre></td></tr></table></figure><p><em>注意</em>: radial-gradient的百分比是相对于矩形的斜边的。</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">background</span>: </span><br><span class="line"><span class="built_in">linear-gradient</span>(-<span class="number">45deg</span>, transparent <span class="number">40%</span>, red <span class="number">0</span>, red <span class="number">60%</span>, transparent <span class="number">0</span>) <span class="number">0</span> <span class="number">1.2em</span>,</span><br><span class="line"><span class="built_in">linear-gradient</span>(<span class="number">45deg</span>, transparent <span class="number">40%</span>, red <span class="number">0</span>, red <span class="number">60%</span>, transparent <span class="number">0</span>) .<span class="number">1em</span> <span class="number">1.2em</span>;</span><br><span class="line"><span class="attribute">background-repeat</span>: repeat-x;</span><br><span class="line"><span class="attribute">background-size</span>: .<span class="number">2em</span> .<span class="number">1em</span>;</span><br><span class="line"><span class="attribute">text-shadow</span>: .<span class="number">05em</span> <span class="number">0</span> white, -.<span class="number">05em</span> <span class="number">0</span> white;</span><br></pre></td></tr></table></figure><h2 id="现实中的文字效果"><a href="#现实中的文字效果" class="headerlink" title="现实中的文字效果"></a>现实中的文字效果</h2><style>  .font-box {    width: 150px;    padding: 10px;  }  .font-circle-box {    background: deeppink;    color: white;    font-size: 24px;    text-align: center;  }  .font-box1 {    background: hsl(210, 13%, 60%);    color: hsl(210, 13%, 30%);    text-shadow: 0 1px 1px hsla(0,0%,100%,.8);  }  .font-box2 {    color: hsl(210, 13%, 60%);    background: hsl(210, 13%, 30%);    text-shadow: 0 -1px 1px black;  }  .font-circle-box1 {    text-shadow: 1px 1px black, -1px -1px black,    1px -1px black, -1px 1px black;  }  .font-circle-box2 {    text-shadow: 0 0 2px black,0 0 2px black,    0 0 2px black,0 0 2px black,    0 0 2px black,0 0 2px black,    0 0 2px black,0 0 2px black;  }  .font-circle-box3 text {    fill: currentColor;  }  .font-circle-box3 svg {    overflow: visible;  }  .font-circle-box3 use {    stroke: green;    stroke-width: 6;    stroke-linejoin: round;  }</style><h3 id="凸版印刷效果"><a href="#凸版印刷效果" class="headerlink" title="凸版印刷效果"></a>凸版印刷效果</h3><div class="example font-box font-box1" style="display: inline-block;">The only way to get rid of a temptation is to yield to it.</div><div class="example font-box font-box2" style="display: inline-block;">The only way to get rid of a temptation is to yield to it.</div><p>浅色背景，深色文字 -&gt; 使用浅色投影实现凸起效果</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">background</span>: <span class="built_in">hsl</span>(<span class="number">210</span>, <span class="number">13%</span>, <span class="number">60%</span>);</span><br><span class="line"><span class="attribute">color</span>: <span class="built_in">hsl</span>(<span class="number">210</span>, <span class="number">13%</span>, <span class="number">30%</span>);</span><br><span class="line"><span class="attribute">text-shadow</span>: <span class="number">0</span> <span class="number">1px</span> <span class="number">1px</span> <span class="built_in">hsla</span>(<span class="number">0</span>,<span class="number">0%</span>,<span class="number">100%</span>,.<span class="number">8</span>);</span><br></pre></td></tr></table></figure><p>深色背景，浅色文字 -&gt; 使用深色投影实现凸起效果</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">color</span>: <span class="built_in">hsl</span>(<span class="number">210</span>, <span class="number">13%</span>, <span class="number">60%</span>);</span><br><span class="line"><span class="attribute">background</span>: <span class="built_in">hsl</span>(<span class="number">210</span>, <span class="number">13%</span>, <span class="number">30%</span>);</span><br><span class="line"><span class="attribute">text-shadow</span>: <span class="number">0</span> -<span class="number">1px</span> <span class="number">1px</span> black;</span><br></pre></td></tr></table></figure><h3 id="空心字效果"><a href="#空心字效果" class="headerlink" title="空心字效果"></a>空心字效果</h3><div class="example font-box font-circle-box font-circle-box1">css</div><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">text-shadow</span>: <span class="number">1px</span> <span class="number">1px</span> black, -<span class="number">1px</span> -<span class="number">1px</span> black,</span><br><span class="line">    <span class="number">1px</span> -<span class="number">1px</span> black, -<span class="number">1px</span> <span class="number">1px</span> black;</span><br></pre></td></tr></table></figure><div class="example font-box font-circle-box font-circle-box2">css</div><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">text-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">2px</span> black,<span class="number">0</span> <span class="number">0</span> <span class="number">2px</span> black,</span><br><span class="line">    <span class="number">0</span> <span class="number">0</span> <span class="number">2px</span> black,<span class="number">0</span> <span class="number">0</span> <span class="number">2px</span> black,</span><br><span class="line">    <span class="number">0</span> <span class="number">0</span> <span class="number">2px</span> black,<span class="number">0</span> <span class="number">0</span> <span class="number">2px</span> black,</span><br><span class="line">    <span class="number">0</span> <span class="number">0</span> <span class="number">2px</span> black,<span class="number">0</span> <span class="number">0</span> <span class="number">2px</span> black;</span><br></pre></td></tr></table></figure><div class="example font-box font-circle-box font-circle-box3">  <svg width="2em" height="1.2em">    <use xlink:href="#css" />    <text id="css" y="1em">css</text>  </svg></div><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">svg</span> <span class="attr">width</span>=<span class="string">&quot;2em&quot;</span> <span class="attr">height</span>=<span class="string">&quot;1.2em&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">use</span> <span class="attr">xlink:href</span>=<span class="string">&quot;#css&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">text</span> <span class="attr">id</span>=<span class="string">&quot;css&quot;</span> <span class="attr">y</span>=<span class="string">&quot;1em&quot;</span>&gt;</span>css<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: deeppink;</span><br><span class="line">  <span class="attribute">color</span>: white;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">24px</span>;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box</span> <span class="selector-class">.text</span> &#123;</span><br><span class="line">  fill: currentColor;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box</span> <span class="selector-class">.svg</span> &#123;</span><br><span class="line">  <span class="attribute">overflow</span>: visible;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box</span> <span class="selector-class">.use</span> &#123;</span><br><span class="line">  stroke: green;</span><br><span class="line">  stroke-<span class="attribute">width</span>: <span class="number">6</span>;</span><br><span class="line">  stroke-linejoin: round;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="文字外发光效果"><a href="#文字外发光效果" class="headerlink" title="文字外发光效果"></a>文字外发光效果</h3><style>  .font-light-box, .font-light-box2 {    background: #203;    color: #ffc;    text-align: center;    font-size: 24px;    transition: 1s;    cursor: pointer;  }  .font-light-box:hover {    text-shadow: 0 0 .1em, 0 0 .3em;  }  .font-light-box2:hover {    text-shadow: 0 0 .1em white, 0 0 .3em white;    color: transparent;  }</style><p>鼠标hover之后展示发光效果：</p><div class="example font-box font-light-box">blow</div><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.font-light-box</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#203</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#ffc</span>;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">24px</span>;</span><br><span class="line">  <span class="attribute">transition</span>: <span class="number">1s</span>;</span><br><span class="line">  <span class="attribute">cursor</span>: pointer;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.font-light-box</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">text-shadow</span>: <span class="number">0</span> <span class="number">0</span> .<span class="number">1em</span>, <span class="number">0</span> <span class="number">0</span> .<span class="number">3em</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>鼠标hover之后展示模糊效果：</p><div class="example font-box font-light-box2">blow</div><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.font-light-box</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#203</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#ffc</span>;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">24px</span>;</span><br><span class="line">  <span class="attribute">transition</span>: <span class="number">1s</span>;</span><br><span class="line">  <span class="attribute">cursor</span>: pointer;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>隐藏文字，使用投影来模拟模糊效果：（如果浏览器不支持text-shadow,hover之后会什么都看不见）</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.font-light-box</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">text-shadow</span>: <span class="number">0</span> <span class="number">0</span> .<span class="number">1em</span> white, <span class="number">0</span> <span class="number">0</span> .<span class="number">3em</span> white;</span><br><span class="line">  <span class="attribute">color</span>: transparent;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>使用滤镜：（如果浏览器不支持filter, 会平稳退化，hover之后没有模糊效果，但文字仍然保留）</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.font-light-box</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">filter</span>: <span class="built_in">blur</span>(.<span class="number">1em</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="文字凸起效果"><a href="#文字凸起效果" class="headerlink" title="文字凸起效果"></a>文字凸起效果</h3><style>  .font-3d-box {    background: #58a;    color: white;    text-align: center;    font-size: 60px;  }  .font-3d-box1 {    text-shadow: 0 1px hsl(0,0%,85%),    0 2px hsl(0,0%,80%),    0 3px hsl(0,0%,75%),    0 4px hsl(0,0%,70%),    0 5px hsl(0,0%,65%),    0 5px 10px black;  }  .font-3d-box2 {    width: 300px;    color: white;    background: hsl(0, 50%, 45%);    text-shadow: 1px 1px black,    2px 2px black,    3px 3px black,    4px 4px black,    5px 5px black,    6px 6px black,    7px 7px black,    8px 8px black,    9px 9px black;  }</style><div class="example font-box font-3d-box font-3d-box1">css</div><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">text-shadow</span>: <span class="number">0</span> <span class="number">1px</span> <span class="built_in">hsl</span>(<span class="number">0</span>,<span class="number">0%</span>,<span class="number">85%</span>),</span><br><span class="line">  <span class="number">0</span> <span class="number">2px</span> <span class="built_in">hsl</span>(<span class="number">0</span>,<span class="number">0%</span>,<span class="number">80%</span>),</span><br><span class="line">  <span class="number">0</span> <span class="number">3px</span> <span class="built_in">hsl</span>(<span class="number">0</span>,<span class="number">0%</span>,<span class="number">75%</span>),</span><br><span class="line">  <span class="number">0</span> <span class="number">4px</span> <span class="built_in">hsl</span>(<span class="number">0</span>,<span class="number">0%</span>,<span class="number">70%</span>),</span><br><span class="line">  <span class="number">0</span> <span class="number">5px</span> <span class="built_in">hsl</span>(<span class="number">0</span>,<span class="number">0%</span>,<span class="number">65%</span>),</span><br><span class="line">  <span class="number">0</span> <span class="number">5px</span> <span class="number">10px</span> black;</span><br></pre></td></tr></table></figure><div class="example font-box font-3d-box font-3d-box2">RETRO</div><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">color</span>: white;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">hsl</span>(<span class="number">0</span>, <span class="number">50%</span>, <span class="number">45%</span>);</span><br><span class="line">  <span class="attribute">text-shadow</span>: <span class="number">1px</span> <span class="number">1px</span> black,</span><br><span class="line">    <span class="number">2px</span> <span class="number">2px</span> black,</span><br><span class="line">    <span class="number">3px</span> <span class="number">3px</span> black,</span><br><span class="line">    <span class="number">4px</span> <span class="number">4px</span> black,</span><br><span class="line">    <span class="number">5px</span> <span class="number">5px</span> black,</span><br><span class="line">    <span class="number">6px</span> <span class="number">6px</span> black,</span><br><span class="line">    <span class="number">7px</span> <span class="number">7px</span> black,</span><br><span class="line">    <span class="number">8px</span> <span class="number">8px</span> black,</span><br><span class="line">    <span class="number">9px</span> <span class="number">9px</span> black;</span><br></pre></td></tr></table></figure><h2 id="环形文字"><a href="#环形文字" class="headerlink" title="环形文字"></a>环形文字</h2><style>  .circular {    width: 10em;    height: 10em;    padding: 1em;    position: relative;  }  .circular path {    fill: none;  }  .circular svg {    overflow: visible;  }  .circular img {    position: absolute;    top: 1.5em;    left: 1.5em;    border-radius: 50%;    width: calc(100% - 3em);    height: calc(100% - 3em);  }</style><div class="example circular">  <svg viewBox="0 0 100 100">  <path d="M 0,50 a 50,50 0 1,1 0,1 z" id="circle" />    <text>      <textpath xlink:href="#circle">      circle reasoning works because something.circle works.      </textpath>    </text>  </svg>  <img src="/img/avatar.jpg"></div><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;circular&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">svg</span> <span class="attr">viewBox</span>=<span class="string">&quot;0 0 100 100&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">path</span> <span class="attr">d</span>=<span class="string">&quot;M 0,50 a 50,50 0 1,1 0,1 z&quot;</span> <span class="attr">id</span>=<span class="string">&quot;circle&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">text</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">textpath</span> <span class="attr">xlink:href</span>=<span class="string">&quot;#circle&quot;</span>&gt;</span></span><br><span class="line">      circle reasoning works because something.circle works.</span><br><span class="line">      <span class="tag">&lt;/<span class="name">textpath</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.circular</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">10em</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">10em</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.circular</span> path &#123;</span><br><span class="line">  fill: none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.circular</span> svg &#123;</span><br><span class="line">  <span class="attribute">overflow</span>: visible;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> css </category>
          
      </categories>
      
      
        <tags>
            
            <tag> css </tag>
            
            <tag> css揭秘 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>css视觉效果</title>
      <link href="/2022/04/09/css%E8%A7%86%E8%A7%89%E6%95%88%E6%9E%9C/"/>
      <url>/2022/04/09/css%E8%A7%86%E8%A7%89%E6%95%88%E6%9E%9C/</url>
      
        <content type="html"><![CDATA[<style>  .example {    margin-bottom: 20px;  }  .box {    width: 200px;    height: 100px;    background: yellow;    position: relative;  }  .box-shadow1 {    box-shadow: 0 5px 4px -4px black;  }  .box-shadow2 {    box-shadow: 5px 5px 10px -5px black;  }  .box-shadow3 {    box-shadow: 5px 0 4px -4px black,                -5px 0 4px -4px black;  }  .box-special::after {    content: '';    position: absolute;    left: 100%;    top: 50%;    transform: translateY(-50%);    border-left: 10px solid yellow;    border-top: 10px solid transparent;    border-right: 10px solid transparent;    border-bottom: 10px solid transparent;  }  .box-shadow4 {    box-shadow: 2px 2px 5px rgba(0,0,0,.5)  }  .box-shadow5 {    filter: drop-shadow(2px 2px 5px rgba(0,0,0,.5))  }  .text-box {    background: transparent;    border: 5px solid pink;    font-size: 24px;    font-weight: 800;    text-align: center;    text-shadow: 0 5px 2px yellow;    filter: drop-shadow(2px 2px 5px rgba(0,0,0,.5))  }  .box.img-box {    background: url("https://cdn.britannica.com/52/146352-050-B4908468/Sumatran-tiger.jpg");    background-size: 100%;    filter: sepia(1) saturate(4) hue-rotate(295deg);    transition: .5s filter;  }  .img-box:hover {    filter: none;  }  .box.img-box2 {    background-color: hsl(335, 100%, 50%);    transition: .5s background-color;  }  .box.img-box2 img{    width: 100%;    height: 100%;    mix-blend-mode: luminosity;  }  .box.img-box3 {    background-image: url("https://cdn.britannica.com/52/146352-050-B4908468/Sumatran-tiger.jpg");    background-size: 100%;    background-color: hsl(335, 100%, 50%);    background-blend-mode: luminosity;    transition: .5s background-color;  }  .box.img-box3:hover,.box.img-box2:hover {    background-color: transparent;  }</style><h2 id="单侧投影"><a href="#单侧投影" class="headerlink" title="单侧投影"></a>单侧投影</h2><blockquote><p>box-shadow: x方向偏移 y方向偏移 模糊半径 扩张半径 颜色 内投影&#x2F;外投影</p></blockquote><h3 id="单侧投影-1"><a href="#单侧投影-1" class="headerlink" title="单侧投影"></a>单侧投影</h3><div class="example box box-shadow1"></div><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">5px</span> <span class="number">4px</span> -<span class="number">4px</span> black; // 扩张半径=-模糊半径</span><br></pre></td></tr></table></figure><h3 id="邻边投影"><a href="#邻边投影" class="headerlink" title="邻边投影"></a>邻边投影</h3><div class="example box box-shadow2"></div><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">box-shadow</span>: <span class="number">5px</span> <span class="number">5px</span> <span class="number">10px</span> -<span class="number">5px</span> black; // 扩张半径=-模糊半径/<span class="number">2</span></span><br></pre></td></tr></table></figure><h3 id="双侧投影"><a href="#双侧投影" class="headerlink" title="双侧投影"></a>双侧投影</h3><p>使用两侧单侧投影</p><div class="example box box-shadow3"></div><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">box-shadow</span>: <span class="number">5px</span> <span class="number">0</span> <span class="number">4px</span> -<span class="number">4px</span> black,</span><br><span class="line">            -<span class="number">5px</span> <span class="number">0</span> <span class="number">4px</span> -<span class="number">4px</span> black;</span><br></pre></td></tr></table></figure><h2 id="不规则投影"><a href="#不规则投影" class="headerlink" title="不规则投影"></a>不规则投影</h2><h3 id="使用box-shadow"><a href="#使用box-shadow" class="headerlink" title="使用box-shadow:"></a>使用box-shadow:</h3><div class="example box box-special box-shadow4"></div><h3 id="使用svg滤镜（浏览器不完成支持）"><a href="#使用svg滤镜（浏览器不完成支持）" class="headerlink" title="使用svg滤镜（浏览器不完成支持）"></a>使用svg滤镜（浏览器不完成支持）</h3><p>常见的滤镜效果如下：blur() grayscale() drop-shadow(); 使用drop-shadow即可实现不规则投影：</p><div class="example box box-special box-shadow5"></div><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">filter</span>: <span class="built_in">drop-shadow</span>(<span class="number">2px</span> <span class="number">2px</span> <span class="number">5px</span> <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,.<span class="number">5</span>))</span><br></pre></td></tr></table></figure><p><strong>注意</strong>：任何非透明的部分都会被一视同仁地打上阴影。如果使用text-shadow给文本加上了阴影，使用drop-shadow会给文本阴影打上阴影。</p><div class="example box text-box box-shadow6">nothing is impossible...</div><h2 id="染色效果"><a href="#染色效果" class="headerlink" title="染色效果"></a>染色效果</h2><h3 id="基于滤镜的染色效果"><a href="#基于滤镜的染色效果" class="headerlink" title="基于滤镜的染色效果"></a>基于滤镜的染色效果</h3><div class="example box img-box"></div><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">filter</span>: <span class="built_in">sepia</span>(<span class="number">1</span>) <span class="built_in">saturate</span>(<span class="number">4</span>) <span class="built_in">hue-rotate</span>(<span class="number">295deg</span>);</span><br></pre></td></tr></table></figure><p>滤镜sepia(), 它会给图片增加一种降饱和度的橙黄色染色效果,几乎所有像素的色相值会被收敛到35~40。<br>滤镜saturate()，用来改变饱和度。<br>滤镜hue-rotate()，用来把每个像素的色相以指定的度数进行偏移。</p><h3 id="基于混合模式的方案"><a href="#基于混合模式的方案" class="headerlink" title="基于混合模式的方案"></a>基于混合模式的方案</h3><p>方案一：div+img</p><div class="example box img-box2">  <img src="https://cdn.britannica.com/52/146352-050-B4908468/Sumatran-tiger.jpg"/></div><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">hsl</span>(<span class="number">335</span>, <span class="number">100%</span>, <span class="number">50%</span>);</span><br><span class="line">  <span class="attribute">transition</span>: .<span class="number">5s</span> background-color;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">div</span> &gt; <span class="selector-tag">img</span> &#123;</span><br><span class="line">  <span class="attribute">mix-blend-mode</span>: luminosity;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">div</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: transparent;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>方案二：单个div设置background</p><div class="example box img-box3"></div><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">&quot;xxx&quot;</span>);</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">hsl</span>(<span class="number">335</span>, <span class="number">100%</span>, <span class="number">50%</span>);</span><br><span class="line">  <span class="attribute">background</span>-blend-mode: luminosity;</span><br><span class="line">  <span class="attribute">transition</span>: .<span class="number">5s</span> background-color;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: transparent;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>可以看到方案一中hover时无法切回到单色模式，方案二是完全可以的。</p><h2 id="毛玻璃效果"><a href="#毛玻璃效果" class="headerlink" title="毛玻璃效果"></a>毛玻璃效果</h2><p><img src="/../img/tiger.PNG"></p><p>实现方法：利用伪元素，将文字底部区域的图片进行模糊(blur) :</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">main</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">blockquote</span>&gt;</span></span><br><span class="line">    “The only wey to get rid of a temptation is to yield to it.Resist it, and your soul grows sick with longing for the things it has forbidden to itself, with desire for what its monstrous laws have made monstrous and unlawful.”</span><br><span class="line">    <span class="tag">&lt;<span class="name">footer</span>&gt;</span> ——</span><br><span class="line">      <span class="tag">&lt;<span class="name">cite</span>&gt;</span></span><br><span class="line">        Oscar Wilde, The Pricture of Dorian Gray</span><br><span class="line">      <span class="tag">&lt;/<span class="name">cite</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">footer</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">blockquote</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">main</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span>, <span class="selector-tag">main</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">&quot;xxx.jpg&quot;</span>) <span class="number">0</span> / cover fixed;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">main</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">hsla</span>(<span class="number">0</span>,<span class="number">0%</span>,<span class="number">100%</span>,.<span class="number">3</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">main</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">left</span>:<span class="number">0</span>;<span class="attribute">top</span>:<span class="number">0</span>;<span class="attribute">right</span>:<span class="number">0</span>;<span class="attribute">right</span>:<span class="number">0</span>;</span><br><span class="line">  <span class="attribute">z-index</span>: -<span class="number">1</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">&quot;xxx.jpg&quot;</span>) <span class="number">0</span> / cover fixed;</span><br><span class="line">  <span class="attribute">filter</span>: <span class="built_in">blur</span>(<span class="number">20px</span>);</span><br><span class="line">  <span class="attribute">margin</span>: -<span class="number">30px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="折角效果"><a href="#折角效果" class="headerlink" title="折角效果"></a>折角效果</h2><style>  .angle-45 {    background-image: linear-gradient(45deg, rgba(0,0,0,.5) 50%, white 0);    background-size: 30px 30px;    background-repeat: no-repeat;    background-position: top right;    border-radius: 7px;  }  .angle-30 {    background-image: linear-gradient(30deg, rgba(0,0,0,.5) 50%, white 0);    background-size:34px 20px;    background-repeat: no-repeat;    background-position: top right;  }  .angle-30-perf {    background-image: linear-gradient(30deg, transparent 50%, white 0);    background-size:34px 20px;    background-repeat: no-repeat;    background-position: top right;    border-radius: 7px;    position: relative;  }  .angle-30-perf::before {    content: '';    position: absolute;    right: 0;    top: 0;    background: linear-gradient(60deg, rgba(0,0,0,.5) 50%, transparent 0);    width: 20px;    height: 34px;    transform-origin: right bottom;    transform: translateY(-14px) rotate(-30deg);    border-bottom-left-radius: inherit;    box-shadow: -.2em .2em .3em -.1em rgba(0,0,0,.15);  }</style><h3 id="45度角"><a href="#45度角" class="headerlink" title="45度角"></a>45度角</h3><p>最简单的一种实现，利用渐变, 但是明显可以看出画出的图形不太逼真，因为无法在折角部分增加border-radius和box-shadow的处理（解决方法见之后的”其他角度“）：</p><div class="example box angle-45"></div><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.angle-45</span> &#123;</span><br><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">linear-gradient</span>(<span class="number">45deg</span>, <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,.<span class="number">5</span>) <span class="number">50%</span>, white <span class="number">0</span>);</span><br><span class="line">  <span class="attribute">background-size</span>: <span class="number">30px</span> <span class="number">30px</span>;</span><br><span class="line">  <span class="attribute">background-repeat</span>: no-repeat;</span><br><span class="line">  <span class="attribute">background-position</span>: top right;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="其他角度"><a href="#其他角度" class="headerlink" title="其他角度"></a>其他角度</h3><p>直接用45度角通用的处理方法实现的效果：</p><div class="example box angle-30"></div><p>可以看出，直接用45度角的方法不行，因为x轴和y轴现在长度不相同，反转之后的效果明显不对。</p><p>因此需要借助伪元素，借助伪元素之后明显逼真了很多，所有角度的折角都可以通过这种方式实现：</p><div class="example box angle-30-perf"></div><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.angle-30-perf</span> &#123;</span><br><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">linear-gradient</span>(<span class="number">30deg</span>, transparent <span class="number">50%</span>, white <span class="number">0</span>);</span><br><span class="line">  <span class="attribute">background-size</span>: <span class="number">34px</span> <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">background-repeat</span>: no-repeat;</span><br><span class="line">  <span class="attribute">background-position</span>: top right;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">7px</span>;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.angle-30-perf</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(<span class="number">60deg</span>, <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,.<span class="number">5</span>) <span class="number">50%</span>, transparent <span class="number">0</span>);</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">34px</span>;</span><br><span class="line">  <span class="attribute">transform-origin</span>: right bottom;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translateY</span>(-<span class="number">14px</span>) <span class="built_in">rotate</span>(-<span class="number">30deg</span>);</span><br><span class="line">  <span class="attribute">border-bottom-left-radius</span>: inherit;</span><br><span class="line">  <span class="attribute">box-shadow</span>: -.<span class="number">2em</span> .<span class="number">2em</span> .<span class="number">3em</span> -.<span class="number">1em</span> <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,.<span class="number">15</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> css </category>
          
      </categories>
      
      
        <tags>
            
            <tag> css </tag>
            
            <tag> css揭秘 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>css形状</title>
      <link href="/2022/04/03/css%E5%BD%A2%E7%8A%B6/"/>
      <url>/2022/04/03/css%E5%BD%A2%E7%8A%B6/</url>
      
        <content type="html"><![CDATA[<style>  .example {    margin: 20px;  }  .css-ellipse {    width: 200px;    height: 100px;    background: #fb3;  }  .css-ellipse1 {    border-radius: 50%;  }  .css-ellipse2 {    border-radius: 100% 0 0 100%/50%;  }  .css-ellipse3 {    border-radius: 100% 0 0 0;  }  .parallelogram1 {    width: 100px;    height: 20px;    background: yellowgreen;    transform: skewX(-45deg);    text-align: center;  }  .parallelogram2 {    width: 100px;    height: 20px;    position: relative;    text-align: center;    z-index: 10;  }  .parallelogram2::before {    content: '';    width: 100%;    height: 100%;    background: yellowgreen;    position: absolute;    left: 0;    top: 0;    transform: skewX(-45deg);    z-index: -1;  }  .lozenge1 {    width: 50px;    height: 50px;    background: url("/img/avatar.jpg");    background-size: cover;    transform: rotate(45deg);  }  .lozenge2 {    width: 50px;    height: 50px;    transform: rotate(45deg);    overflow: hidden;    background: yellowgreen;  }  .lozenge2 img {    transform: rotate(-45deg) scale(1.42);  }  .lozenge3 {    width: 71px;    height: 71px;    background: url("/img/avatar.jpg");    clip-path: polygon(50% 0, 100% 50%, 50% 100%, 0 50%)  }  .trapezium1 {    width: 150px;    height: 30px;    background: #58a;    transform: perspective(.5em) rotateX(5deg);  }  .trapezium2 {    width: 100px;    height: 30px;    background: #58a;    transform: perspective(.5em) rotateX(5deg);    border-radius: .5em .5em 0 0;    transform-origin: right bottom;  }</style><h2 id="自适应的椭圆"><a href="#自适应的椭圆" class="headerlink" title="自适应的椭圆"></a>自适应的椭圆</h2><h3 id="椭圆"><a href="#椭圆" class="headerlink" title="椭圆"></a>椭圆</h3><div class="example css-ellipse css-ellipse1"></div><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br></pre></td></tr></table></figure><h3 id="二分之一椭圆"><a href="#二分之一椭圆" class="headerlink" title="二分之一椭圆"></a>二分之一椭圆</h3><div class="example css-ellipse css-ellipse2"></div><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">border-radius</span>: <span class="number">100%</span> <span class="number">0</span> <span class="number">0</span> <span class="number">100%</span>/<span class="number">50%</span>;</span><br></pre></td></tr></table></figure><h3 id="四分之一椭圆"><a href="#四分之一椭圆" class="headerlink" title="四分之一椭圆"></a>四分之一椭圆</h3><div class="example css-ellipse css-ellipse3"></div><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">border-radius</span>: <span class="number">100%</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span>;</span><br></pre></td></tr></table></figure><p>关于border-radius的解释，语法：水平切角&#x2F;垂直切角，水平切角和垂直切角里都有四个方位。<br>以二分之一椭圆为例:左上角的水平切角和垂直切角分别为100%和50%，右上角都为0，右下角都为0，左下角为100%和50%，所以是100% 0 0 100%&#x2F;50%<br><img src="/../img/%E6%A4%AD%E5%9C%86.PNG"></p><h2 id="平行四边形"><a href="#平行四边形" class="headerlink" title="平行四边形"></a>平行四边形</h2><p>直接通过矩形变形得到:</p><div class="example parallelogram1">abc</div><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">transform</span>: <span class="built_in">skewX</span>(-<span class="number">45deg</span>);</span><br></pre></td></tr></table></figure>存在的问题，内部的文字也倾斜了。解决方案主要有:1. 将内部文字反向侵袭skewX(45deg); 2. 使用伪元素;<p>伪元素方案：</p><div class="example parallelogram2">abc</div><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">background</span>: yellowgreen;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">skewX</span>(-<span class="number">45deg</span>);</span><br><span class="line">  <span class="attribute">z-index</span>: -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="菱形"><a href="#菱形" class="headerlink" title="菱形"></a>菱形</h2><p>通过简单的矩形旋转可以得到如下的示例图片：</p><div class="example lozenge1"></div>可以发现和之前的平行四边形一样内部的背景图片也变形了。<p>解决方案：</p><ol><li><p>使用单独的元素img替换background-image,再负方向旋转校正</p><div class="example lozenge2">  <img src="/img/avatar.jpg"></img></div><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">transform</span>: <span class="built_in">rotate</span>(-<span class="number">45deg</span>) <span class="built_in">scale</span>(<span class="number">1.42</span>);</span><br></pre></td></tr></table></figure>这里的scale是因为如果不放大，图片四个角会有空隙,需要乘以 ($\sqrt{2}$)</li><li><p>使用clip-path</p><div class="example lozenge3">  <img src="/img/avatar.jpg"></img></div><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">clip-path</span>: <span class="built_in">polygon</span>(<span class="number">50%</span> <span class="number">0</span>, <span class="number">100%</span> <span class="number">50%</span>, <span class="number">50%</span> <span class="number">100%</span>, <span class="number">0</span> <span class="number">50%</span>)</span><br></pre></td></tr></table></figure></li></ol><h2 id="切角效果"><a href="#切角效果" class="headerlink" title="切角效果"></a>切角效果</h2><style>  .corner-box {    width: 100px;    height: 100px;    background: #58a;    background-image:      linear-gradient(45deg, white 15px, transparent 0),      linear-gradient(-45deg, white 15px, transparent 0),      linear-gradient(135deg, white 15px, transparent 0),      linear-gradient(-135deg, white 15px, transparent 0);  }  .corner-box2 {    width: 100px;    height: 100px;    background-image:      radial-gradient(circle at top left, transparent 15px, #58a 0),      radial-gradient(circle at bottom left, transparent 15px, #58a 0),      radial-gradient(circle at top right, transparent 15px, #58a 0),      radial-gradient(circle at bottom right, transparent 15px, #58a 0);    background-size: 50% 50%;    background-repeat: no-repeat;    background-position: top left, bottom left, top right,bottom right;  }  .corner-box3 {    width: 100px;    height: 100px;    background: #58a;    background-clip: padding-box;    border: 15px solid #58a;    border-image: 1 url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="3" height="3" fill="%2358a"><polygon points="0,1 1,0 2,0 3,1 3,2 2,3 1,3 0,2"/></svg>')  }  .corner-box4 {    width: 100px;    height: 100px;    background: #58a;    clip-path:      polygon(20px 0, calc(100% - 20px) 0, 100% 20px,      100% calc(100% - 20px), calc(100% - 20px) 100%,      20px 100%, 0 calc(100% - 20px), 0 20px)  }</style><h3 id="三角切角"><a href="#三角切角" class="headerlink" title="三角切角"></a>三角切角</h3><div class="example corner-box"></div><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">background</span>: <span class="number">#58a</span>;</span><br><span class="line"><span class="attribute">background-image</span>:</span><br><span class="line">  <span class="built_in">linear-gradient</span>(<span class="number">45deg</span>, white <span class="number">15px</span>, transparent <span class="number">0</span>),</span><br><span class="line">  <span class="built_in">linear-gradient</span>(-<span class="number">45deg</span>, white <span class="number">15px</span>, transparent <span class="number">0</span>),</span><br><span class="line">  <span class="built_in">linear-gradient</span>(<span class="number">135deg</span>, white <span class="number">15px</span>, transparent <span class="number">0</span>),</span><br><span class="line">  <span class="built_in">linear-gradient</span>(-<span class="number">135deg</span>, white <span class="number">15px</span>, transparent <span class="number">0</span>);</span><br></pre></td></tr></table></figure><h3 id="弧形切角"><a href="#弧形切角" class="headerlink" title="弧形切角"></a>弧形切角</h3><div class="example corner-box2"></div><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">background-image</span>:</span><br><span class="line">  <span class="built_in">radial-gradient</span>(circle at top left, transparent <span class="number">15px</span>, <span class="number">#58a</span> <span class="number">0</span>),</span><br><span class="line">  <span class="built_in">radial-gradient</span>(circle at bottom left, transparent <span class="number">15px</span>, <span class="number">#58a</span> <span class="number">0</span>),</span><br><span class="line">  <span class="built_in">radial-gradient</span>(circle at top right, transparent <span class="number">15px</span>, <span class="number">#58a</span> <span class="number">0</span>),</span><br><span class="line">  <span class="built_in">radial-gradient</span>(circle at bottom right, transparent <span class="number">15px</span>, <span class="number">#58a</span> <span class="number">0</span>);</span><br><span class="line"><span class="attribute">background-size</span>: <span class="number">50%</span> <span class="number">50%</span>;</span><br><span class="line"><span class="attribute">background-repeat</span>: no-repeat;</span><br><span class="line"><span class="attribute">background-position</span>: top left, bottom left, top right,bottom right;</span><br></pre></td></tr></table></figure><h3 id="svg-border-image"><a href="#svg-border-image" class="headerlink" title="svg+border-image"></a>svg+border-image</h3><div class="example corner-box3"></div><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">background</span>: <span class="number">#58a</span>;</span><br><span class="line"><span class="attribute">background-clip</span>: padding-box;</span><br><span class="line"><span class="attribute">border</span>: <span class="number">15px</span> solid <span class="number">#58a</span>;</span><br><span class="line"><span class="attribute">border-image</span>: <span class="number">1</span> <span class="built_in">url</span>(<span class="string">&#x27;data:image/svg+xml,\</span></span><br><span class="line"><span class="string">&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot;\</span></span><br><span class="line"><span class="string"> width=&quot;3&quot; height=&quot;3&quot; fill=&quot;%2358a&quot;&gt;\</span></span><br><span class="line"><span class="string"> &lt;polygon points=&quot;0,1 1,0 2,0 3,1 3,2 2,3 1,3 0,2&quot;/&gt;\</span></span><br><span class="line"><span class="string"> &lt;/svg&gt;&#x27;</span>)</span><br></pre></td></tr></table></figure><h3 id="clip-path"><a href="#clip-path" class="headerlink" title="clip-path"></a>clip-path</h3><div class="example corner-box4"></div><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">background</span>: <span class="number">#58a</span>;</span><br><span class="line"><span class="attribute">clip-path</span>:</span><br><span class="line">  <span class="built_in">polygon</span>(<span class="number">20px</span> <span class="number">0</span>, <span class="built_in">calc</span>(<span class="number">100%</span> - <span class="number">20px</span>) <span class="number">0</span>, <span class="number">100%</span> <span class="number">20px</span>,</span><br><span class="line">  <span class="number">100%</span> <span class="built_in">calc</span>(<span class="number">100%</span> - <span class="number">20px</span>), <span class="built_in">calc</span>(<span class="number">100%</span> - <span class="number">20px</span>) <span class="number">100%</span>,</span><br><span class="line">  <span class="number">20px</span> <span class="number">100%</span>, <span class="number">0</span> <span class="built_in">calc</span>(<span class="number">100%</span> - <span class="number">20px</span>), <span class="number">0</span> <span class="number">20px</span>)</span><br></pre></td></tr></table></figure><h2 id="梯形"><a href="#梯形" class="headerlink" title="梯形"></a>梯形</h2><h3 id="简易梯形"><a href="#简易梯形" class="headerlink" title="简易梯形"></a>简易梯形</h3><div class="example trapezium1"></div><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">transform</span>: <span class="built_in">perspective</span>(.<span class="number">5em</span>) <span class="built_in">rotateX</span>(<span class="number">5deg</span>);</span><br></pre></td></tr></table></figure><h3 id="书签效果"><a href="#书签效果" class="headerlink" title="书签效果"></a>书签效果</h3><div class="example trapezium2"></div>只需改变transform-origin, trasnform-origin设置为right bottom即可实现上面的书签效果:<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">transform-origin</span>: right bottom;</span><br></pre></td></tr></table></figure><h2 id="简单的饼图"><a href="#简单的饼图" class="headerlink" title="简单的饼图"></a>简单的饼图</h2><style>  .example-wrap {    display: flex;  }  img {    margin: 0 !important;  }  .pie, .pie-60 {    width: 100px;    height: 100px;    border-radius: 50%;    background: yellowgreen;    position: relative;    background-image: linear-gradient(90deg, transparent 50%, #655 0);  }  .pie::before {    content: '';    width: 50%;    height: 100%;    position: absolute;    left: 50%;    transform-origin: left;    background: yellowgreen;    border-radius: 0 100% 100% 0/50%;    transform: rotate(.3turn);  }  @keyframes spin {    to {transform: rotate(.5turn);}  }  @keyframes bg {    50% {background: #655;}  }  .pie-60::before {    content: '';    width: 50%;    height: 100%;    position: absolute;    left: 50%;    transform-origin: left;    background: yellowgreen;    border-radius: 0 100% 100% 0/50%;    animation: spin 50s linear infinite,               bg 100s step-end infinite;    animation-delay: -60s;    animation-play-state: paused;  }  .pie1 circle, .pie1-1 circle {    fill: yellowgreen;    stroke: #655;    stroke-width: 40;    stroke-dasharray: 20 10;  }  .pie1-1 svg, .pie2 svg {    transform: rotate(-90deg);    background: yellowgreen;    border-radius: 50%;  }  @keyframes fillup {    to {      stroke-dasharray: 189 189;    }  }  .pie2 circle {    fill: yellowgreen;    stroke: #655;    stroke-width: 50;    stroke-dasharray: 0 189;    animation: fillup 5s linear infinite;  }  .pie3, .pie4{    margin: 50px;  }  .pie3 svg {    transform: rotate(-90deg) scale(3);    background: yellowgreen;    border-radius: 50%;  }  .pie3 circle {    fill: transparent;    stroke: #655;    stroke-width: 32;    stroke-dasharray: 60 100;  }  .pie4 svg {    transform: rotate(-90deg) scale(3);    background: yellowgreen;    border-radius: 50%;  }  .pie4 circle:nth-child(1) {    fill: transparent;    stroke: #58a;    stroke-width: 32;    stroke-dasharray: 30 100;  }  .pie4 circle:nth-child(2) {    fill: transparent;    stroke: deeppink;    stroke-width: 32;    stroke-dasharray: 30 100;    stroke-dashoffset: 100;  }</style><h3 id="伪元素解决方案"><a href="#伪元素解决方案" class="headerlink" title="伪元素解决方案"></a>伪元素解决方案</h3><div class="example pie"></div><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.pie</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">background</span>: yellowgreen;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">linear-gradient</span>(<span class="number">90deg</span>, transparent <span class="number">50%</span>, <span class="number">#655</span> <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.pie</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">transform-origin</span>: left;</span><br><span class="line">  <span class="attribute">background</span>: yellowgreen;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">0</span> <span class="number">100%</span> <span class="number">100%</span> <span class="number">0</span>/<span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">rotate</span>(.<span class="number">3turn</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>但是这样写当饼图比率超过50%的时候无法按照预想的正确显示，60%:<p><img src="/../img/pie60.jpg"></p><p>这个问题可以用动画的一个小技巧解决，用负的动画延时来直接跳至动画的任意时间点，并定格在那里。因为动画是暂停的，所以动画的第一帧（由负的animation-delay值定义）将是唯一显示出的那一帧，在饼图上显示出的比率就是我们的animation-delay值在总的动画时间里所占的比率：</p><div class="example pie-60"></div><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@keyframes</span> spin &#123;</span><br><span class="line">  <span class="selector-tag">to</span> &#123;<span class="attribute">transform</span>: <span class="built_in">rotate</span>(.<span class="number">5turn</span>);&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@keyframes</span> bg &#123;</span><br><span class="line">  <span class="number">50%</span> &#123;<span class="attribute">background</span>: <span class="number">#655</span>;&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.pie-60</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line"> <span class="comment">/* 相同的样式略 */</span></span><br><span class="line">  <span class="attribute">animation</span>: spin <span class="number">50s</span> linear infinite,</span><br><span class="line">              bg <span class="number">100s</span> step-end infinite;</span><br><span class="line">  <span class="attribute">animation-delay</span>: -<span class="number">60s</span>;</span><br><span class="line">  <span class="attribute">animation-play-state</span>: paused;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="svg解决方案"><a href="#svg解决方案" class="headerlink" title="svg解决方案"></a>svg解决方案</h3><h4 id="关于strokw-width和stoke-dasharray"><a href="#关于strokw-width和stoke-dasharray" class="headerlink" title="关于strokw-width和stoke-dasharray"></a>关于strokw-width和stoke-dasharray</h4><p>先了解一下stroke-width和stroke-dasharray:<br>stroke-width表示线段宽度；<br>stroke-dasharray第一个参数表示线段长度，第二个参数表示间隙宽度。</p><p>使用示例如下：</p><div class="example-wrap"><div class="example pie1">  <svg width="100" height="100">    <circle r="25" cx="50" cy="50"/>  </svg></div><div class="example pie1-1">  <svg width="100" height="100">    <circle r="25" cx="50" cy="50"/>  </svg></div></div><p>如上图左边的图形：<br><img src="/../img/stroke-explain.jpg"></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;pie1&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">svg</span> <span class="attr">width</span>=<span class="string">&quot;100&quot;</span> <span class="attr">height</span>=<span class="string">&quot;100&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">circle</span> <span class="attr">r</span>=<span class="string">&quot;25&quot;</span> <span class="attr">cx</span>=<span class="string">&quot;50&quot;</span> <span class="attr">cy</span>=<span class="string">&quot;50&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.pie1</span> circle&#123;</span><br><span class="line">  fill: yellowgreen;</span><br><span class="line">  stroke: <span class="number">#655</span>;</span><br><span class="line">  stroke-<span class="attribute">width</span>: <span class="number">40</span>;</span><br><span class="line">  stroke-dasharray: <span class="number">20</span> <span class="number">10</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>改变stoke-width 还能实现各种有趣的图形：<br><img src="/../img/%E9%A5%BC%E5%9B%BEstoke-width.jpg"></p><p>设置stroke-width等于2 x r, stroke-dasharray的第二个参数大于2 x pi x r就可以得到连续的图案。</p><div class="example-wrap"><div class="example pie3">  <svg width="32" height="32">    <circle r="16" cx="16" cy="16"/>  </svg></div><div class="example pie2">  <svg width="100" height="100">    <circle r="25" cx="50" cy="50"/>  </svg></div></div><h4 id="实现不同比率的圆"><a href="#实现不同比率的圆" class="headerlink" title="实现不同比率的圆"></a>实现不同比率的圆</h4><p>要设置60%比率的圆，stroke-dasharray的线段长度为(60% * 2 * pi * r) , 这里的r是circlr的半径。<br>所以可设置圆周长为100，这样设置不同比率的圆形时stroke-dasharray的第一个参数就可以直接按照比率进行设置。<br>因为2 x pi x16约等于100，所以设置r为16。<br>这样设置以后60%比率的圆, storke-dasharray的第一个参数只需填写45即可。</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.pie3</span> svg &#123;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">rotate</span>(-<span class="number">90deg</span>) <span class="built_in">scale</span>(<span class="number">3</span>);</span><br><span class="line">  <span class="attribute">background</span>: yellowgreen;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.pie3</span> circle &#123;</span><br><span class="line">  fill: transparent;</span><br><span class="line">  stroke: <span class="number">#655</span>;</span><br><span class="line">  stroke-<span class="attribute">width</span>: <span class="number">32</span>;</span><br><span class="line">  stroke-dasharray: <span class="number">60</span> <span class="number">100</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="多色块的圆"><a href="#多色块的圆" class="headerlink" title="多色块的圆"></a>多色块的圆</h4><p>使用svg解决方案能很方便地增加第三种颜色，增加圆形，并设置stroke-dashoffset即可。</p><blockquote><p>stroke-dashoffset 属性指定了dash模式到路径开始的距离。<br>如果使用了一个 &lt;百分比&gt; 值， 那么这个值就代表了当前视口的一个百分比。<br>值可以取为负值。</p></blockquote><div class="example pie4">  <svg width="32" height="32">    <circle r="16" cx="16" cy="16"/>    <circle r="16" cx="16" cy="16"/>  </svg></div><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.pie4</span> circle<span class="selector-pseudo">:nth-child</span>(<span class="number">1</span>) &#123;</span><br><span class="line">  fill: transparent;</span><br><span class="line">  stroke: <span class="number">#58a</span>;</span><br><span class="line">  stroke-<span class="attribute">width</span>: <span class="number">32</span>;</span><br><span class="line">  stroke-dasharray: <span class="number">30</span> <span class="number">100</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.pie4</span> circle<span class="selector-pseudo">:nth-child</span>(<span class="number">2</span>) &#123;</span><br><span class="line">  fill: transparent;</span><br><span class="line">  stroke: deeppink;</span><br><span class="line">  stroke-<span class="attribute">width</span>: <span class="number">32</span>;</span><br><span class="line">  stroke-dasharray: <span class="number">30</span> <span class="number">100</span>;</span><br><span class="line">  stroke-dashoffset: <span class="number">100</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> css </category>
          
      </categories>
      
      
        <tags>
            
            <tag> css </tag>
            
            <tag> css揭秘 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>css背景与边框</title>
      <link href="/2022/03/27/css%E8%83%8C%E6%99%AF%E4%B8%8E%E8%BE%B9%E6%A1%86/"/>
      <url>/2022/03/27/css%E8%83%8C%E6%99%AF%E4%B8%8E%E8%BE%B9%E6%A1%86/</url>
      
        <content type="html"><![CDATA[<h2 id="背景侵入边框问题"><a href="#背景侵入边框问题" class="headerlink" title="背景侵入边框问题"></a>背景侵入边框问题</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">background-clip</span>: padding-box</span><br></pre></td></tr></table></figure><p>background-clip的属性有content-box、padding-box、border-box, text, 默认为border-box,所以背景会侵入边框，改为padding-box,背景会裁剪到padding, 因而能解决背景侵入边框问题。</p><p>详细例子可在MDN上查看：<a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/background-clip">https://developer.mozilla.org/zh-CN/docs/Web/CSS/background-clip</a></p><h2 id="多重边框问题"><a href="#多重边框问题" class="headerlink" title="多重边框问题"></a>多重边框问题</h2><h3 id="background叠加"><a href="#background叠加" class="headerlink" title="background叠加"></a>background叠加</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">background</span>: deeppink;</span><br><span class="line"> <span class="attribute">background-image</span>: <span class="built_in">linear-gradient</span>(yellowgreen, yellowgreen),</span><br><span class="line">                   <span class="built_in">linear-gradient</span>(<span class="number">#655</span>, <span class="number">#655</span>);</span><br><span class="line"> <span class="attribute">background-size</span>: <span class="number">100px</span> <span class="number">100px</span>, <span class="number">120px</span> <span class="number">120px</span>;</span><br><span class="line"> <span class="attribute">background-repeat</span>: no-repeat, no-repeat;</span><br><span class="line"> <span class="attribute">background-position</span>: center, center;</span><br></pre></td></tr></table></figure><p>代码太过复杂，不够DRY。</p><div class="css-box1"></div><style>.css-box1{  width: 130px;  height: 130px;  background: deeppink;  background-image: linear-gradient(yellowgreen, yellowgreen),                    linear-gradient(#655, #655);  background-size: 100px 100px, 120px 120px;  background-repeat: no-repeat, no-repeat;  background-position: center, center;  margin: 20px;}</style><h3 id="使用box-shadow"><a href="#使用box-shadow" class="headerlink" title="使用box-shadow"></a>使用box-shadow</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">background</span>: yellowgreen;</span><br><span class="line"><span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">10px</span> <span class="number">#655</span>, <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">15px</span> deeppink;</span><br></pre></td></tr></table></figure><p>注意点：box-shadow不影响布局和鼠标事件，可通过设置inset属性使得box-shaow投影在元素内部解决。</p><div class="css-box2"></div><style>.css-box2{  width: 130px;  height: 130px;  box-sizing: border-box;  background: yellowgreen;  box-shadow: 0 0 0 5px deeppink inset, 0 0 0 15px #655 inset;  margin: 20px;}</style><h3 id="双重边框可使用border-outline"><a href="#双重边框可使用border-outline" class="headerlink" title="双重边框可使用border + outline"></a>双重边框可使用border + outline</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">background</span>: yellowgreen;</span><br><span class="line"><span class="attribute">border</span>: <span class="number">10px</span> solid <span class="number">#655</span>;</span><br><span class="line"><span class="attribute">outline</span>: <span class="number">5px</span> solid deeppink;</span><br></pre></td></tr></table></figure><p>outline能实现box-shaow实现不了的虚线等效果，并能通过outline-offset设置偏移值。<br>缺点是目前outline只能是矩形，如果存在border-radius，会存在空缺；可通过设置box-shadow来覆盖空缺。</p><div class="css-box3"></div><style>.css-box3{  width: 100px;  height: 100px;  box-sizing: content-box;  background: yellowgreen;  border: 10px solid #655;  outline: 5px solid deeppink;  margin: 20px;  margin-left: 25px;}</style><h2 id="灵活的背景定位"><a href="#灵活的背景定位" class="headerlink" title="灵活的背景定位"></a>灵活的背景定位</h2><p>一个div,padding-rihgt为20px,padding-bottom为10px;要求背景在content-box内部（不覆盖padding）。</p><h3 id="相对于右边和下方定位"><a href="#相对于右边和下方定位" class="headerlink" title="相对于右边和下方定位"></a>相对于右边和下方定位</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">background-position</span>: right <span class="number">20px</span> bottom <span class="number">10px</span>;</span><br></pre></td></tr></table></figure><h3 id="使用background-origin"><a href="#使用background-origin" class="headerlink" title="使用background-origin"></a>使用background-origin</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">background-origin</span>: content-box;</span><br></pre></td></tr></table></figure><p>默认情况下，background-origin相对于padding-box为准，这样的话如果改变padding的值，需要同时修改background-position中的值，而改为相对于content-box后，就需要再修改。</p><h3 id="使用calc"><a href="#使用calc" class="headerlink" title="使用calc"></a>使用calc</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">background-position</span>: <span class="built_in">calc</span>(<span class="number">100%</span> - <span class="number">20px</span>) <span class="built_in">calc</span>(<span class="number">100%</span> - <span class="number">10px</span>); </span><br></pre></td></tr></table></figure><h2 id="边框内圆角"><a href="#边框内圆角" class="headerlink" title="边框内圆角"></a>边框内圆角</h2><p>实现下面的边框内圆角使用两个div能轻松实现，如果要求只是用一个div呢？</p><div class="css-box4">  something is wrong</div><style>.css-box4 {  width: 150px;  height: 50px;  background: tan;  border-radius: .8em;  outline: 0.4em solid black;  box-shadow: 0 0 0 0.35em black;  text-align: center;  margin: 20px;}</style><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">background</span>: tan;</span><br><span class="line"><span class="attribute">border-radius</span>: .<span class="number">8em</span>;</span><br><span class="line"><span class="attribute">outline</span>: <span class="number">0.4em</span> solid black;</span><br><span class="line"><span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0.35em</span> black;</span><br></pre></td></tr></table></figure>其中box-shadow的扩张值应大于等于($\sqrt{2}$-1)r, r为border-radius的值。<h2 id="条纹背景"><a href="#条纹背景" class="headerlink" title="条纹背景"></a>条纹背景</h2><style>.css-box5 {  width: 150px;  height: 50px;  background-image: linear-gradient(red 50%, yellow 80%);  margin: 20px;}.css-box5.css-box5-vertical {  background-image: linear-gradient(90deg, red 50%, yellow 80%);}.css-box5.css-box5-kink-simple {  background-image: linear-gradient(60deg, red 20%, yellow 50%, green 90%);  background-size: 30px 100%;}.css-box5.css-box5-kink {  background-image: repeating-linear-gradient(60deg, #fb3, #fb3 15px, #58a 0,#58a 30px);}.css-box5.css-box5-similar {  background: #58a;  background-image:    repeating-linear-gradient(30deg, transparent 0, transparent 15px, hsla(0, 0%, 100%, .1) 0,hsla(0, 0%, 100%, .1) 30px);}.css-box5.css-box5-zhishu {  width: 300px;  height: 100px;  background: hsl(20, 40%, 90%);  background-image:    linear-gradient(90deg, #fb3 10px, transparent 0),    linear-gradient(90deg, #ab4 20px, transparent 0),    linear-gradient(90deg, #655 20px, transparent 0);  background-size: 41px 100%, 61px 100%, 83px 100%;}</style><h3 id="水平条纹"><a href="#水平条纹" class="headerlink" title="水平条纹"></a>水平条纹</h3><p>默认为水平条纹(渐变轴为to right,180度)：</p><div class="css-box5"></div><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">background-image</span>: <span class="built_in">linear-gradient</span>(red <span class="number">50%</span>, yellow <span class="number">80%</span>);</span><br></pre></td></tr></table></figure>解析一下，这里的意思是从0%-50%为red,从50%-80%渐变为yellow, 80%-100%为yellow。<h3 id="垂直条纹"><a href="#垂直条纹" class="headerlink" title="垂直条纹"></a>垂直条纹</h3><p>设置旋转角度90deg，为垂直条纹，顺时针旋转为正。</p><div class="css-box5 css-box5-vertical"></div><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">background-image</span>: <span class="built_in">linear-gradient</span>(<span class="number">90deg</span>, red <span class="number">50%</span>, yellow <span class="number">80%</span>);</span><br></pre></td></tr></table></figure><h3 id="斜向条纹"><a href="#斜向条纹" class="headerlink" title="斜向条纹"></a>斜向条纹</h3><p>同样设置旋转角度即可。</p><div class="css-box5 css-box5-kink-simple"></div><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">background-image</span>: <span class="built_in">linear-gradient</span>(<span class="number">60deg</span>, red <span class="number">20%</span>, yellow <span class="number">50%</span>, green <span class="number">90%</span>);</span><br><span class="line"><span class="attribute">background-size</span>: <span class="number">30px</span> <span class="number">100%</span>;</span><br></pre></td></tr></table></figure><h3 id="更好的斜向条纹"><a href="#更好的斜向条纹" class="headerlink" title="更好的斜向条纹"></a>更好的斜向条纹</h3><p>可以看到，使用linear-gradient实现的斜向条纹在重复的时候不能得到应有的效果，使用repeating-linear-gradient来实现更好的斜向条纹。</p><div class="css-box5 css-box5-kink"></div><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">background-image</span>: <span class="built_in">repeating-linear-gradient</span>(<span class="number">60deg</span>, <span class="number">#fb3</span>, <span class="number">#fb3</span> <span class="number">15px</span>, <span class="number">#58a</span> <span class="number">0</span>,<span class="number">#58a</span> <span class="number">30px</span>);</span><br></pre></td></tr></table></figure>对于0的解释：0会使用前面出现过最大的值替代，这里也就是15px, 使用这种方式可以简写;<h3 id="灵活的同色系条纹"><a href="#灵活的同色系条纹" class="headerlink" title="灵活的同色系条纹"></a>灵活的同色系条纹</h3><p>同色系条纹可以用透明层叠加的方式</p><div class="css-box5 css-box5-similar"></div><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">background</span>: <span class="number">#58a</span>;</span><br><span class="line"><span class="attribute">background-image</span>:</span><br><span class="line">    <span class="built_in">repeating-linear-gradient</span>(<span class="number">30deg</span>, transparent <span class="number">0</span>, transparent <span class="number">15px</span>, <span class="built_in">hsla</span>(<span class="number">0</span>, <span class="number">0%</span>, <span class="number">100%</span>, .<span class="number">1</span>) <span class="number">0</span>,<span class="built_in">hsla</span>(<span class="number">0</span>, <span class="number">0%</span>, <span class="number">100%</span>, .<span class="number">1</span>) <span class="number">30px</span>);</span><br></pre></td></tr></table></figure><h2 id="复杂的背景图案"><a href="#复杂的背景图案" class="headerlink" title="复杂的背景图案"></a>复杂的背景图案</h2><style>  .css-box6 {    width: 100px;    height: 100px;    background: tan;    background-image:      linear-gradient(white 1px, transparent 0),      linear-gradient(90deg, white 1px, transparent 0);    background-size: 30px 30px;    margin: 20px;  }  .css-box7 {    width: 100px;    height: 100px;    background: #655;    background-image:      radial-gradient(tan 30%, transparent 0),      radial-gradient(tan 30%, transparent 0);    background-size: 20px 20px;    background-position: 0 0, 10px 10px;    margin: 20px;  }  .css-box8 {    width: 100px;    height: 100px;    background: white;    background-image:      linear-gradient(45deg, black 0, black 25%, transparent 0, transparent 75%, black 0, black 100%),      linear-gradient(45deg, black 0, black 25%, transparent 0, transparent 75%, black 0, black 100%);    background-size: 20px 20px;    background-position: 0 0, 10px 10px;    margin: 20px;  }</style><h3 id="网格"><a href="#网格" class="headerlink" title="网格"></a>网格</h3><div class="css-box6"></div><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line"><span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line"><span class="attribute">background</span>: tan;</span><br><span class="line"><span class="attribute">background-image</span>:</span><br><span class="line">  <span class="built_in">linear-gradient</span>(white <span class="number">1px</span>, transparent <span class="number">0</span>),</span><br><span class="line">  <span class="built_in">linear-gradient</span>(<span class="number">90deg</span>, white <span class="number">1px</span>, transparent <span class="number">0</span>);</span><br><span class="line"><span class="attribute">background-size</span>: <span class="number">30px</span> <span class="number">30px</span>;</span><br></pre></td></tr></table></figure><h3 id="波点"><a href="#波点" class="headerlink" title="波点"></a>波点</h3><div class="css-box7"></div><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line"><span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line"><span class="attribute">background</span>: <span class="number">#655</span>;</span><br><span class="line"><span class="attribute">background-image</span>:</span><br><span class="line">  <span class="built_in">radial-gradient</span>(tan <span class="number">30%</span>, transparent <span class="number">0</span>),</span><br><span class="line">  <span class="built_in">radial-gradient</span>(tan <span class="number">30%</span>, transparent <span class="number">0</span>);</span><br><span class="line"><span class="attribute">background-size</span>: <span class="number">20px</span> <span class="number">20px</span>;</span><br><span class="line"><span class="attribute">background-position</span>: <span class="number">0</span> <span class="number">0</span>, <span class="number">10px</span> <span class="number">10px</span>;</span><br></pre></td></tr></table></figure><h3 id="棋盘"><a href="#棋盘" class="headerlink" title="棋盘"></a>棋盘</h3><div class="css-box8"></div><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line"><span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line"><span class="attribute">background</span>: white;</span><br><span class="line"><span class="attribute">background-image</span>:</span><br><span class="line">  <span class="built_in">linear-gradient</span>(<span class="number">45deg</span>, black <span class="number">0</span>, black <span class="number">25%</span>, transparent <span class="number">0</span>, transparent <span class="number">75%</span>, black <span class="number">0</span>, black <span class="number">100%</span>),</span><br><span class="line">  <span class="built_in">linear-gradient</span>(<span class="number">45deg</span>, black <span class="number">0</span>, black <span class="number">25%</span>, transparent <span class="number">0</span>, transparent <span class="number">75%</span>, black <span class="number">0</span>, black <span class="number">100%</span>);</span><br><span class="line"><span class="attribute">background-size</span>: <span class="number">20px</span> <span class="number">20px</span>;</span><br><span class="line"><span class="attribute">background-position</span>: <span class="number">0</span> <span class="number">0</span>, <span class="number">10px</span> <span class="number">10px</span>;</span><br></pre></td></tr></table></figure>更多的：https://projects.verou.me/css3patterns/<h2 id="伪随机背景"><a href="#伪随机背景" class="headerlink" title="伪随机背景"></a>伪随机背景</h2><p>质数的使用:</p><div class="css-box5 css-box5-zhishu"></div><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">background</span>: <span class="built_in">hsl</span>(<span class="number">20</span>, <span class="number">40%</span>, <span class="number">90%</span>);</span><br><span class="line"><span class="attribute">background-image</span>:</span><br><span class="line">  <span class="built_in">linear-gradient</span>(<span class="number">90deg</span>, <span class="number">#fb3</span> <span class="number">10px</span>, transparent <span class="number">0</span>),</span><br><span class="line">  <span class="built_in">linear-gradient</span>(<span class="number">90deg</span>, <span class="number">#ab4</span> <span class="number">20px</span>, transparent <span class="number">0</span>),</span><br><span class="line">  <span class="built_in">linear-gradient</span>(<span class="number">90deg</span>, <span class="number">#655</span> <span class="number">20px</span>, transparent <span class="number">0</span>);</span><br><span class="line"><span class="attribute">background-size</span>: <span class="number">41px</span> <span class="number">100%</span>, <span class="number">61px</span> <span class="number">100%</span>, <span class="number">83px</span> <span class="number">100%</span>;</span><br></pre></td></tr></table></figure><h2 id="连续的图像边框"><a href="#连续的图像边框" class="headerlink" title="连续的图像边框"></a>连续的图像边框</h2><style>  @keyframes anti {    to {      background-position: 100%;    }  }  .css-box9 {    width: 100px;    height: 50px;    border: 5px solid transparent;    background:       linear-gradient(white, white) padding-box,      url('https://assets.codepen.io/t-1/user-default-avatar.jpg?fit=crop&format=auto&height=80&version=0&width=80') border-box 0 0 / cover;    margin: 20px;  }  .css-box10 {    width: 100px;    height: 50px;    border: 5px solid transparent;    background:       linear-gradient(white, white) padding-box,      repeating-linear-gradient(-45deg, red 0, red 12.5%, transparent 0, transparent 25%, blue 0, blue 37.5%, transparent 0, transparent 50%) 0 / 1em 1em;    margin: 20px;  }  .css-box11 {    width: 100px;    height: 50px;    border: 1px solid transparent;    background:       linear-gradient(white, white) padding-box,      repeating-linear-gradient(-45deg, black 0, black 25%, white 0, white 50%) 0 / .6em .6em;    animation: anti 12s linear infinite;    margin: 20px;  }  .css-box12 {    border-top: .2em solid transparent;    border-image: 100% 0 0 linear-gradient(90deg, black 0, black 5em, transparent 0);    margin: 20px;  }</style><h3 id="图像边框随元素宽高和边框厚度改变"><a href="#图像边框随元素宽高和边框厚度改变" class="headerlink" title="图像边框随元素宽高和边框厚度改变"></a>图像边框随元素宽高和边框厚度改变</h3><div class="css-box9"></div><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">border</span>: <span class="number">5px</span> solid transparent;</span><br><span class="line"><span class="attribute">background</span>: </span><br><span class="line">  <span class="built_in">linear-gradient</span>(white, white) padding-box,</span><br><span class="line">  <span class="built_in">url</span>(<span class="string">&#x27;https://assets.codepen.io/t-1/user-default-avatar.jpg?fit=crop&amp;format=auto&amp;height=80&amp;version=0&amp;width=80&#x27;</span>) border-box <span class="number">0</span> <span class="number">0</span> / cover;</span><br></pre></td></tr></table></figure>相当于用一个div实现了两个div(白色内容块+底部背景)的效果。<h3 id="老式信封"><a href="#老式信封" class="headerlink" title="老式信封"></a>老式信封</h3><div class="css-box10"></div><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line"><span class="attribute">height</span>: <span class="number">50px</span>;</span><br><span class="line"><span class="attribute">border</span>: <span class="number">5px</span> solid transparent;</span><br><span class="line"><span class="attribute">background</span>: </span><br><span class="line">  <span class="built_in">linear-gradient</span>(white, white) padding-box,</span><br><span class="line">  <span class="built_in">repeating-linear-gradient</span>(-<span class="number">45deg</span>, red <span class="number">0</span>, red <span class="number">12.5%</span>, transparent <span class="number">0</span>, transparent <span class="number">25%</span>, blue <span class="number">0</span>, blue <span class="number">37.5%</span>, transparent <span class="number">0</span>, transparent <span class="number">50%</span>) <span class="number">0</span> / <span class="number">1em</span> <span class="number">1em</span>;</span><br></pre></td></tr></table></figure>四个条纹需要8个色标，这里简化到50%只需要4个色标，如果写到100%，需要8个。<h3 id="蚂蚁行军"><a href="#蚂蚁行军" class="headerlink" title="蚂蚁行军"></a>蚂蚁行军</h3><div class="css-box11"></div><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line"><span class="attribute">height</span>: <span class="number">50px</span>;</span><br><span class="line"><span class="attribute">border</span>: <span class="number">1px</span> solid transparent;</span><br><span class="line"><span class="attribute">background</span>: </span><br><span class="line">  <span class="built_in">linear-gradient</span>(white, white) padding-box,</span><br><span class="line">  <span class="built_in">repeating-linear-gradient</span>(-<span class="number">45deg</span>, black <span class="number">0</span>, black <span class="number">25%</span>, white <span class="number">0</span>, white <span class="number">50%</span>) <span class="number">0</span> / .<span class="number">6em</span> .<span class="number">6em</span>;</span><br><span class="line"><span class="attribute">animation</span>: anti <span class="number">12s</span> linear infinite;</span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@keyframes</span> anti &#123;</span><br><span class="line">  <span class="selector-tag">to</span> &#123;</span><br><span class="line">    <span class="attribute">background-position</span>: <span class="number">100%</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="脚注"><a href="#脚注" class="headerlink" title="脚注"></a>脚注</h3><div class="css-box12">  <sup>1</sup>this is a sentence.</div><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">border-top</span>: .<span class="number">2em</span> solid transparent;</span><br><span class="line"><span class="attribute">border-image</span>: <span class="number">100%</span> <span class="number">0</span> <span class="number">0</span> <span class="built_in">linear-gradient</span>(<span class="number">90deg</span>, black <span class="number">0</span>, black <span class="number">5em</span>, transparent <span class="number">0</span>);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> css </category>
          
      </categories>
      
      
        <tags>
            
            <tag> css </tag>
            
            <tag> css揭秘 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>拖拽内部嵌有iframe的元素，无法监听到鼠标事件问题解决</title>
      <link href="/2022/03/12/%E6%8B%96%E6%8B%BD%E5%86%85%E9%83%A8%E5%B5%8C%E6%9C%89iframe%E7%9A%84%E5%85%83%E7%B4%A0%EF%BC%8C%E6%97%A0%E6%B3%95%E7%9B%91%E5%90%AC%E5%88%B0%E9%BC%A0%E6%A0%87%E4%BA%8B%E4%BB%B6%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3/"/>
      <url>/2022/03/12/%E6%8B%96%E6%8B%BD%E5%86%85%E9%83%A8%E5%B5%8C%E6%9C%89iframe%E7%9A%84%E5%85%83%E7%B4%A0%EF%BC%8C%E6%97%A0%E6%B3%95%E7%9B%91%E5%90%AC%E5%88%B0%E9%BC%A0%E6%A0%87%E4%BA%8B%E4%BB%B6%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3/</url>
      
        <content type="html"><![CDATA[<h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>单纯的拖拽实现起来很简单，主要原理就是在鼠标按下时，监听鼠标的mousemove事件，根据鼠标移动的距离调整元素的坐标值；在鼠标松开时，取消mousemove的监听事件。但如果被拖拽的元素内存在iframe,在iframe内的鼠标事件无法被监听到，就会存在一些问题。</p><h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h2><p>在该被拖拽元素外层套一层,当鼠标按下时，在该层监听事件，当鼠标松开时，隐藏该外层。可以通过调整z-index的值来实现。</p><h2 id="实现"><a href="#实现" class="headerlink" title="实现"></a>实现</h2><p><a href="https://codepen.io/duanlvxin/pen/jOajwGO">https://codepen.io/duanlvxin/pen/jOajwGO</a></p><p>比较：<br>(ps: codepen上演示有点问题，放到本地测试的)<br>不使用mask时，拖拽到最底部的时候，鼠标在iframe内松开，<strong>还能</strong>继续拖拽：<br><video src="/video/before.mp4" width="100%" height="100%" controls="controls"></video><br>使用mask时，拖拽到最底部的时候，鼠标在iframe内松开，<strong>不能</strong>继续拖拽：<br><video src="/video/after.mp4" width="100%" height="100%" controls="controls"></video></p>]]></content>
      
      
      <categories>
          
          <category> html </category>
          
      </categories>
      
      
        <tags>
            
            <tag> html 事件 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>html属性顺序校验和排序</title>
      <link href="/2022/03/06/html%E5%B1%9E%E6%80%A7%E9%A1%BA%E5%BA%8F%E6%A0%A1%E9%AA%8C%E5%92%8C%E6%8E%92%E5%BA%8F/"/>
      <url>/2022/03/06/html%E5%B1%9E%E6%80%A7%E9%A1%BA%E5%BA%8F%E6%A0%A1%E9%AA%8C%E5%92%8C%E6%8E%92%E5%BA%8F/</url>
      
        <content type="html"><![CDATA[<h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>在使用vue编写.vue文件时，为了代码风格的统一，需要规范html标签中属性的顺序。<br>不同的团队对于顺序的定义不同，以我们的团队为例，约定好的顺序需要为:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">v-xx=xx &gt; xx=xx &gt; :xx=xx  &gt; @xx=xx</span><br></pre></td></tr></table></figure><p>那么如果我们需要校验属性顺序是否符合这个规则，如果不符合进行排序使其符合要怎么做呢？</p><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>对于判断是否符合规则：</p><ol><li>定义一个map对象存储属性与优先级的关系，codeMap</li><li>将属性数组中的属性根据这个codeMap映射出优先级数组。</li><li>问题就转换为判断这个数组是否是升序（或降序，根据codeMap中对于优先级的定义而定）</li></ol><p>对于排序：</p><ol><li>可以用js的sort函数，只需要实现传入的参数：compare函数</li><li>compare函数中的大小比较即是根据属性的优先级大小。</li></ol><h2 id="实现"><a href="#实现" class="headerlink" title="实现"></a>实现</h2><p>对于判断是否符合规则：</p><ol><li>定义codeMap,这里数字越小，优先级越高<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> codeMap = <span class="keyword">new</span> <span class="title class_">Map</span>([</span><br><span class="line">  [<span class="keyword">new</span> <span class="title class_">RegExp</span>(<span class="regexp">/^v-.+=.*$/</span>), <span class="number">1</span>],</span><br><span class="line">  [<span class="keyword">new</span> <span class="title class_">RegExp</span>(<span class="regexp">/^[^@:]+=.*$/</span>), <span class="number">2</span>],</span><br><span class="line">  [<span class="keyword">new</span> <span class="title class_">RegExp</span>(<span class="regexp">/^:.+=.*$/</span>), <span class="number">3</span>],</span><br><span class="line">  [<span class="keyword">new</span> <span class="title class_">RegExp</span>(<span class="regexp">/^@.+=.*$/</span>), <span class="number">4</span>]</span><br><span class="line">])</span><br></pre></td></tr></table></figure></li><li>生成优先级数组<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">getWeight</span>(<span class="params">str</span>) &#123;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">let</span> [key, value] <span class="keyword">of</span> codeMap) &#123;</span><br><span class="line">    <span class="keyword">if</span>(key.<span class="title function_">test</span>(str)) &#123;</span><br><span class="line">      <span class="keyword">return</span> value;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getWeightArr</span> (arr) &#123;</span><br><span class="line">  <span class="keyword">const</span> res = [];</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">let</span> item <span class="keyword">of</span> arr) &#123;</span><br><span class="line">    res.<span class="title function_">push</span>(<span class="title function_">getWeight</span>(item));</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>判断数组是否升序<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">isAscending</span> (arr) &#123;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>,len=arr.<span class="property">length</span>-<span class="number">1</span>;i&lt;len;i++)&#123;</span><br><span class="line">    <span class="keyword">if</span>(arr[i]&gt;arr[i+<span class="number">1</span>])&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><p>对于排序：</p><ol><li>只需实现compare函数<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">compare</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> weightA = <span class="title function_">getWeight</span>(a);</span><br><span class="line">  <span class="keyword">const</span> weightB = <span class="title function_">getWeight</span>(b);</span><br><span class="line">  <span class="keyword">return</span> weightA - weightB;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h2 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h2><p>以下面这个数组为例:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="string">&quot;:visible2=&#x27;visible2&#x27;&quot;</span>, <span class="string">&quot;style=&#x27;color: red&#x27;&quot;</span>, <span class="string">&quot;:visible=&#x27;visible&#x27;&quot;</span>, <span class="string">&quot;class = &#x27;test&quot;</span>, <span class="string">&quot;@click=&#x27;handleClick&#x27;&quot;</span>];</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> weightArr = <span class="title function_">getWeightArr</span>(arr);</span><br><span class="line"><span class="keyword">const</span> sortedArr = arr.<span class="title function_">sort</span>(compare);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(sortedArr);</span><br><span class="line"><span class="keyword">const</span> sortedWeightArr = <span class="title function_">getWeightArr</span>(sortedArr);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">isAscending</span>(weightArr));</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">isAscending</span>(sortedWeightArr));</span><br></pre></td></tr></table></figure><p>打印结果：<br><img src="/../img/html%E5%B1%9E%E6%80%A7-%E7%BB%93%E6%9E%9C.PNG" alt="alt 结果" title="结果"></p>]]></content>
      
      
      <categories>
          
          <category> js </category>
          
      </categories>
      
      
        <tags>
            
            <tag> html </tag>
            
            <tag> js </tag>
            
            <tag> 算法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>根据选中状态过滤树</title>
      <link href="/2022/03/05/%E6%A0%B9%E6%8D%AE%E9%80%89%E4%B8%AD%E7%8A%B6%E6%80%81%E8%BF%87%E6%BB%A4%E6%A0%91/"/>
      <url>/2022/03/05/%E6%A0%B9%E6%8D%AE%E9%80%89%E4%B8%AD%E7%8A%B6%E6%80%81%E8%BF%87%E6%BB%A4%E6%A0%91/</url>
      
        <content type="html"><![CDATA[<h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>工作上遇到的这个问题，主要需求是根据选中状态过森林。对于森林中的每棵树，如果节点选中，则保留，如果该节点的父节点未被选中，则需向上提升，得到最简的一棵树。举例如下：</p><p><img src="/../img/%E7%A4%BA%E4%BE%8B.jpg" alt="alt 示例" title="示例"></p><h2 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h2><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">对于森林中的每棵树：</span></span><br><span class="line">  <span class="string">对于树中的每一个节点：</span></span><br><span class="line">    <span class="string">如果节点被选中：</span></span><br><span class="line">      <span class="string">保存节点，</span></span><br><span class="line">      <span class="string">重复过滤节点的孩子</span></span><br><span class="line">    <span class="string">否则：</span></span><br><span class="line">      <span class="string">保存过滤过的节点的孩子</span></span><br></pre></td></tr></table></figure><h2 id="实现"><a href="#实现" class="headerlink" title="实现"></a>实现</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">filterForest</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> res = [];</span><br><span class="line">  arr.<span class="title function_">forEach</span>(<span class="function">(<span class="params">item</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(item.<span class="property">select</span>)&#123;</span><br><span class="line">      item.<span class="property">children</span> = <span class="title function_">filterForest</span>(item.<span class="property">children</span>);</span><br><span class="line">      res.<span class="title function_">push</span>(item);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      res = res.<span class="title function_">concat</span>(<span class="title function_">filterForest</span>(item.<span class="property">children</span>));</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h2><p>以上面的那个森林为例，转换为json格式：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line">const forest = <span class="punctuation">[</span></span><br><span class="line">  <span class="punctuation">&#123;</span></span><br><span class="line">    id<span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">    name<span class="punctuation">:</span> &#x27;节点<span class="number">1</span>&#x27;<span class="punctuation">,</span></span><br><span class="line">    select<span class="punctuation">:</span> <span class="keyword">false</span><span class="punctuation">,</span></span><br><span class="line">    children<span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        id<span class="punctuation">:</span> <span class="number">11</span><span class="punctuation">,</span></span><br><span class="line">        name<span class="punctuation">:</span>&#x27;节点<span class="number">11</span>&#x27;<span class="punctuation">,</span></span><br><span class="line">        select<span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">        children<span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">          <span class="punctuation">&#123;</span></span><br><span class="line">            id<span class="punctuation">:</span> <span class="number">111</span><span class="punctuation">,</span></span><br><span class="line">            name<span class="punctuation">:</span> &#x27;节点<span class="number">111</span>&#x27;<span class="punctuation">,</span></span><br><span class="line">            select<span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">            children<span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span></span><br><span class="line">          <span class="punctuation">&#125;</span></span><br><span class="line">        <span class="punctuation">]</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        id<span class="punctuation">:</span> <span class="number">12</span><span class="punctuation">,</span></span><br><span class="line">        name<span class="punctuation">:</span> &#x27;节点<span class="number">12</span>&#x27;<span class="punctuation">,</span></span><br><span class="line">        select<span class="punctuation">:</span> <span class="keyword">false</span><span class="punctuation">,</span></span><br><span class="line">        children<span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">          <span class="punctuation">&#123;</span></span><br><span class="line">            id<span class="punctuation">:</span> <span class="number">121</span><span class="punctuation">,</span></span><br><span class="line">            name<span class="punctuation">:</span> &#x27;节点<span class="number">121</span>&#x27;<span class="punctuation">,</span></span><br><span class="line">            select<span class="punctuation">:</span> <span class="keyword">false</span><span class="punctuation">,</span></span><br><span class="line">            children<span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">              <span class="punctuation">&#123;</span></span><br><span class="line">                id<span class="punctuation">:</span> <span class="number">1211</span><span class="punctuation">,</span></span><br><span class="line">                name<span class="punctuation">:</span> &#x27;节点<span class="number">1211</span>&#x27;<span class="punctuation">,</span></span><br><span class="line">                select<span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">                children<span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span></span><br><span class="line">              <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">              <span class="punctuation">&#123;</span></span><br><span class="line">                id<span class="punctuation">:</span> <span class="number">1212</span><span class="punctuation">,</span></span><br><span class="line">                name<span class="punctuation">:</span> &#x27;节点<span class="number">1212</span>&#x27;<span class="punctuation">,</span></span><br><span class="line">                select<span class="punctuation">:</span> <span class="keyword">false</span><span class="punctuation">,</span></span><br><span class="line">                children<span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span></span><br><span class="line">              <span class="punctuation">&#125;</span></span><br><span class="line">            <span class="punctuation">]</span></span><br><span class="line">          <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="punctuation">&#123;</span></span><br><span class="line">            id<span class="punctuation">:</span> <span class="number">122</span><span class="punctuation">,</span></span><br><span class="line">            name<span class="punctuation">:</span> &#x27;节点<span class="number">122</span>&#x27;<span class="punctuation">,</span></span><br><span class="line">            select<span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">            children<span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span></span><br><span class="line">          <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="punctuation">&#123;</span></span><br><span class="line">            id<span class="punctuation">:</span> <span class="number">123</span><span class="punctuation">,</span></span><br><span class="line">            name<span class="punctuation">:</span> &#x27;节点<span class="number">123</span>&#x27;<span class="punctuation">,</span></span><br><span class="line">            select<span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">            children<span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span></span><br><span class="line">          <span class="punctuation">&#125;</span></span><br><span class="line">        <span class="punctuation">]</span></span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">]</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="punctuation">&#123;</span></span><br><span class="line">    id<span class="punctuation">:</span> <span class="number">2</span><span class="punctuation">,</span></span><br><span class="line">    name<span class="punctuation">:</span> &#x27;节点<span class="number">2</span>&#x27;<span class="punctuation">,</span></span><br><span class="line">    select<span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">    children<span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        id<span class="punctuation">:</span> <span class="number">21</span><span class="punctuation">,</span></span><br><span class="line">        name<span class="punctuation">:</span> &#x27;节点<span class="number">21</span>&#x27;<span class="punctuation">,</span></span><br><span class="line">        select<span class="punctuation">:</span> <span class="keyword">false</span><span class="punctuation">,</span></span><br><span class="line">        children<span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span></span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">]</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="punctuation">&#123;</span></span><br><span class="line">    id<span class="punctuation">:</span> <span class="number">3</span><span class="punctuation">,</span></span><br><span class="line">    name<span class="punctuation">:</span> &#x27;节点<span class="number">3</span>&#x27;<span class="punctuation">,</span></span><br><span class="line">    select<span class="punctuation">:</span> <span class="keyword">false</span><span class="punctuation">,</span></span><br><span class="line">    children<span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        id<span class="punctuation">:</span> <span class="number">31</span><span class="punctuation">,</span></span><br><span class="line">        name<span class="punctuation">:</span> &#x27;节点<span class="number">31</span>&#x27;<span class="punctuation">,</span></span><br><span class="line">        select<span class="punctuation">:</span> <span class="keyword">false</span><span class="punctuation">,</span></span><br><span class="line">        children<span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        id<span class="punctuation">:</span> <span class="number">32</span><span class="punctuation">,</span></span><br><span class="line">        name<span class="punctuation">:</span> &#x27;节点<span class="number">32</span>&#x27;<span class="punctuation">,</span></span><br><span class="line">        select<span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">        children<span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span></span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">]</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">]</span></span><br></pre></td></tr></table></figure><p>调用函数后打印结果：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">filterForest</span>(forest));</span><br></pre></td></tr></table></figure><p>结果：<br><img src="/../img/%E7%BB%93%E6%9E%9C.jpg" alt="alt 结果" title="结果"></p>]]></content>
      
      
      <categories>
          
          <category> js </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
            <tag> 算法 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
